<!doctype html><html><!doctype html>
<html>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content>
<meta name=author content>
<title>Apache Hive : WebHCat Reference Pig</title>
<link rel=icon href=/images/hive.svg sizes=any type=image/svg+xml>
<link rel=stylesheet href=https://hive.apache.org/css/hive-theme.css>
<link rel=stylesheet href=https://hive.apache.org/css/font-awesome.all.min.css>
<link rel=stylesheet href=https://hive.apache.org/css/bootstrap.min.css>
<link rel=stylesheet href=https://hive.apache.org/css/termynal.css>
<link rel=apple-touch-icon sizes=180x180 href=https://hive.apache.org/images/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=https://hive.apache.org/images/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=https://hive.apache.org/images/favicon-16x16.png>
<link rel=manifest href=https://hive.apache.org/images/site.webmanifest>
<link rel=mask-icon href=https://hive.apache.org/images/safari-pinned-tab.svg color=#5bbad5>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
<script>var _paq=window._paq=window._paq||[];_paq.push(['disableCookies']),_paq.push(['trackPageView']),_paq.push(['enableLinkTracking']),function(){var b="https://analytics.apache.org/",c,a,d;_paq.push(['setTrackerUrl',b+'matomo.php']),_paq.push(['setSiteId','30']),c=document,a=c.createElement('script'),d=c.getElementsByTagName('script')[0],a.async=!0,a.src=b+'matomo.js',d.parentNode.insertBefore(a,d)}()</script>
</head>
<body>
<body>
<header>
<menu class=main-menu>
<nav class="navbar navbar-expand-lg navbar-dark">
<div class=container-fluid>
<div class=navbar-brand-wrapper>
<a href=https://hive.apache.org class=navbar-logo>
<img src=https://hive.apache.org/images/hive.svg width=50 height=30 alt="Apache Hive Logo">
</a>
<a class=navbar-brand href=https://hive.apache.org>Apache Hive</a>
</div>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse" id=navbarSupportedContent>
<ul class="navbar-nav me-auto">
<li class=nav-item>
<a class=nav-link href=https://hive.apache.org/general/downloads>
Releases
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=/Document id=docsDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Documentation
</a>
<ul class=dropdown-menu aria-labelledby=docsDropdown>
<li><a class=dropdown-item href=https://hive.apache.org/docs/latest/>Latest</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/docs/javadocs/>Javadocs</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/docs/latest/language/languagemanual>Language Manual</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=/general id=generalDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
General
</a>
<ul class=dropdown-menu aria-labelledby=generalDropdown>
<li><a class=dropdown-item href=https://www.apache.org/licenses/LICENSE-2.0.html>License</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/general/privacypolicy/>Privacy Policy</a></li>
<li><a class=dropdown-item href=/general/poweredby/>Powered by</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=devDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Development
</a>
<ul class=dropdown-menu aria-labelledby=devDropdown>
<li><a class=dropdown-item href=https://hive.apache.org/development/gettingstarted/>Getting Started</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/quickstart/>Quickstart with Docker</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/desingdocs/>Design Docs</a></li>
<li><a class=dropdown-item href=https://issues.apache.org/jira/projects/HIVE/issues>Hive JIRA</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/resources/hivedeveloperfaq>Hive Developer FAQ</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/versioncontrol/>Version Control</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=communityDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Community
</a>
<ul class=dropdown-menu aria-labelledby=communityDropdown>
<li><a class=dropdown-item href=/community/becomingcommitter/>Becoming A Committer</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/resources/howtocontribute>How To Contribute</a></li>
<li><a class=dropdown-item href=/community/resources/>Resources</a></li>
<li><a class=dropdown-item href=/community/meetings/>Meetings</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/mailinglists/>Mailing Lists</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/issuetracking/>Issue Tracking</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/people/>People</a></li>
<li><hr class=dropdown-divider></li>
<li><a class=dropdown-item href=/community/bylaws/>By Laws</a></li>
<li><a class=dropdown-item href=/community/resources/howtorelease/>How To Release</a></li>
</ul>
</li>
<li class=nav-item>
<a class=nav-link href=https://hive.blog.apache.org/>
Blogs
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=asfDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
ASF
</a>
<ul class=dropdown-menu aria-labelledby=asfDropdown>
<li><a class=dropdown-item href=https://www.apache.org/foundation/contributing.html>Donations</a></li>
<li><a class=dropdown-item href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li>
<li><a class=dropdown-item href=https://www.apache.org/foundation/thanks.html>Thanks</a></li>
<li><a class=dropdown-item href=https://www.apache.org/>Website</a></li>
</ul>
</li>
</ul>
<div class=navbar-search>
<form action=/search method=get class=search-form>
<div class=search-input-group>
<input type=search name=q id=search-query placeholder=Search... class=search-input aria-label=Search>
<button type=submit class=search-button aria-label="Submit search">
<i class="fas fa-search"></i>
</button>
</div>
</form>
</div>
</div>
</div>
</nav>
</menu>
</header>
<div class=content>
<div class=docs-container>
<main class="docs-main docs-main-full">
<article class=docs-content>
<nav class=docs-breadcrumb>
<ol>
<li><a href=/><i class="fas fa-home"></i> Home</a></li>
<li><a href=/docs/>Documentation</a></li>
<li class=active>Apache Hive : WebHCat Reference Pig</li>
</ol>
</nav>
<header class=docs-header>
<h1 class=docs-title>Apache Hive : WebHCat Reference Pig</h1>
<div class=docs-meta>
<span class=docs-date>
<i class="fas fa-calendar-alt"></i>
Last updated: December 12, 2024
</span>
</div>
</header>
<div class=docs-toc>
<h4><i class="fas fa-list"></i> Table of Contents</h4>
<nav id=TableOfContents>
<ul>
<li><a href=#apache-hive--webhcat-reference-pig>Apache Hive : WebHCat Reference Pig</a>
<ul>
<li><a href=#description>Description</a></li>
<li><a href=#url>URL</a></li>
<li><a href=#parameters>Parameters</a></li>
<li><a href=#results>Results</a></li>
<li><a href=#example>Example</a>
<ul>
<li><a href=#code-and-data-setup>Code and Data Setup</a></li>
<li><a href=#curl-command>Curl Command</a></li>
<li><a href=#json-output>JSON Output</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</div>
<div class=docs-article>
<h1 id=apache-hive--webhcat-reference-pig>Apache Hive : WebHCat Reference Pig</h1>
<aside class=table-of-contents>
<nav id=TableOfContents>
<ul>
<li><a href=#apache-hive--webhcat-reference-pig>Apache Hive : WebHCat Reference Pig</a>
<ul>
<li><a href=#description>Description</a></li>
<li><a href=#url>URL</a></li>
<li><a href=#parameters>Parameters</a></li>
<li><a href=#results>Results</a></li>
<li><a href=#example>Example</a>
<ul>
<li><a href=#code-and-data-setup>Code and Data Setup</a></li>
<li><a href=#curl-command>Curl Command</a></li>
<li><a href=#json-output>JSON Output</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</aside>
<h2 id=description>Description</h2>
<p>Create and queue a <a href=http://pig.apache.org/>Pig</a> job.</p>
<h2 id=url>URL</h2>
<p><code>http://</code><em><a href=http://www.myserver.com>www.myserver.com</a></em><code>/templeton/v1/pig</code></p>
<h2 id=parameters>Parameters</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
<th>Required?</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>execute</strong></td>
<td>String containing an entire, short Pig program to run.</td>
<td>One of either &ldquo;execute&rdquo; or &ldquo;file&rdquo; is required.</td>
<td>None</td>
</tr>
<tr>
<td><strong>file</strong></td>
<td>HDFS file name of a Pig program to run.</td>
<td>One of either &ldquo;execute&rdquo; or &ldquo;file&rdquo; is required.</td>
<td>None</td>
</tr>
<tr>
<td><strong>arg</strong></td>
<td>Set a program argument. If <code>-useHCatalog</code> is included, then <strong>usehcatalog</strong> is interpreted as &ldquo;true&rdquo; (Hive 0.13.0 and later).</td>
<td>Optional</td>
<td>None</td>
</tr>
<tr>
<td><strong>files</strong></td>
<td>Comma separated files to be copied to the map reduce cluster.</td>
<td>Optional</td>
<td>None</td>
</tr>
<tr>
<td><strong>statusdir</strong></td>
<td>A directory where WebHCat will write the status of the Pig job. If provided, it is the caller&rsquo;s responsibility to remove this directory when done.</td>
<td>Optional</td>
<td>None</td>
</tr>
<tr>
<td><strong>enablelog</strong></td>
<td>If <strong>statusdir</strong> is set and <strong>enablelog</strong> is &ldquo;true&rdquo;, collect Hadoop job configuration and logs into a directory named <code>$statusdir/logs</code> after the job finishes. Both completed and failed attempts are logged. The layout of subdirectories in <code>$statusdir/logs</code> is: <code>logs/$job_id</code> <em>(directory for $job_id)</em> <code>logs/$job_id/job.xml.html</code> <code>logs/$job_id/$attempt_id</code> <em>(directory for $attempt_id)</em> <code>logs/$job_id/$attempt_id/stderr</code> <code>logs/$job_id/$attempt_id/stdout</code> <code>logs/$job_id/$attempt_id/syslog</code> This parameter was introduced in Hive 0.12.0. (See <a href=https://issues.apache.org/jira/browse/HIVE-4531>HIVE-4531</a>.)</td>
<td>Optional in Hive 0.12.0+</td>
<td>None</td>
</tr>
<tr>
<td><strong>callback</strong></td>
<td>Define a URL to be called upon job completion. You may embed a specific job ID into this URL using <code>$jobId</code>. This tag will be replaced in the callback URL with this job&rsquo;s job ID.</td>
<td>Optional</td>
<td>None</td>
</tr>
<tr>
<td><strong>usehcatalog</strong></td>
<td>Specify that the submitted job uses HCatalog and therefore needs to access the metastore, which requires additional steps for WebHCat to perform in a secure cluster. (See <a href=https://issues.apache.org/jira/browse/HIVE-5133>HIVE-5133</a>.) This parameter will be introduced in Hive 0.13.0. It can also be set to &ldquo;true&rdquo; by including <code>-useHCatalog</code> in the <strong>arg</strong> parameter. Also, if webhcat-site.xml defines the parameters <code>templeton.hive.archive</code>, <code>templeton.hive.home</code> and <code>templeton.hcat.home</code> then WebHCat will ship the Hive tar to the target node where the job runs. (See <a href=https://issues.apache.org/jira/browse/HIVE-5547>HIVE-5547</a>.) This means that Hive doesn&rsquo;t need to be installed on every node in the Hadoop cluster. It does not ensure that Pig is installed on the target node in the cluster. This is independent of security, but improves manageability. The webhcat-site.xml parameters are documented in webhcat-default.xml.</td>
<td>Optional in Hive 0.13.0+</td>
<td>false</td>
</tr>
</tbody>
</table>
<p>The <a href=#standard-parameters>standard parameters</a> are also supported.</p>
<h2 id=results>Results</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>id</strong></td>
<td>A string containing the job ID similar to &ldquo;job_201110132141_0001&rdquo;.</td>
</tr>
<tr>
<td><strong>info</strong></td>
<td>A JSON object containing the information returned when the job was queued. See the Hadoop documentation (<a href=http://hadoop.apache.org/docs/r1.2.1/api/org/apache/hadoop/mapred/TaskController.html><code>Class TaskController</code></a>) for more information.</td>
</tr>
</tbody>
</table>
<h2 id=example>Example</h2>
<h3 id=code-and-data-setup>Code and Data Setup</h3>
<pre tabindex=0><code>% cat id.pig
A = load 'passwd' using PigStorage(':');
B = foreach A generate $0 as id;
dump B;

% cat fake-passwd
ctdean:Chris Dean:secret
pauls:Paul Stolorz:good
carmas:Carlos Armas:evil
dra:Deirdre McClure:marvelous

% hadoop fs -put id.pig .
% hadoop fs -put fake-passwd passwd

</code></pre><h3 id=curl-command>Curl Command</h3>
<pre tabindex=0><code>% curl -s -d file=id.pig \
       -d arg=-v \
       'http://localhost:50111/templeton/v1/pig?user.name=ekoifman'

</code></pre><p>Version information</p>
<p>Prior to Hive 0.13.0, user.name was specified in POST requests as a form parameter: <code>curl -d user.name=*&lt;user>*</code>.</p>
<p>In <a href=https://issues.apache.org/jira/browse/HIVE-6576>Hive 0.13.0</a> onward, user.name should be specified in the query string (as shown above): <code>'http://.../templeton/v1/pig?user.name=*&lt;name>*'</code>. Specifying user.name as a form parameter is deprecated.</p>
<h3 id=json-output>JSON Output</h3>
<pre tabindex=0><code>{
 &quot;id&quot;: &quot;job_201111101627_0018&quot;,
 &quot;info&quot;: {
          &quot;stdout&quot;: &quot;templeton-job-id:job_201111101627_0018
                    &quot;,
          &quot;stderr&quot;: &quot;&quot;,
          &quot;exitcode&quot;: 0
         }
}

</code></pre><p><strong>Navigation Links</strong>
Previous: <a href=https://hive.apache.org/docs/latest/webhcat/webhcat-reference-mapreducejar/>POST mapreduce/jar</a><br>
Next: <a href=https://hive.apache.org/docs/latest/webhcat/webhcat-reference-hive/>POST hive</a></p>
</div>
<footer class=docs-footer>
<div class=docs-feedback>
<h4><i class="fas fa-comment"></i> Feedback</h4>
<p>Was this page helpful? Let us know how we can improve.</p>
<div class=docs-feedback-buttons>
<button class="btn btn-feedback btn-positive">
<i class="fas fa-thumbs-up"></i> Yes
</button>
<button class="btn btn-feedback btn-negative">
<i class="fas fa-thumbs-down"></i> No
</button>
</div>
</div>
<div class=docs-edit>
<a href=https://github.com/apache/hive-site/edit/main/content/docs/latest/webhcat/webhcat-reference-pig.md class="btn btn-outline">
<i class="fab fa-github"></i> Edit this page on GitHub
</a>
</div>
</footer>
</article>
<aside class=docs-toc-sidebar>
<div class=docs-toc-sticky>
<h4><i class="fas fa-list"></i> On this page</h4>
<nav id=TableOfContents>
<ul>
<li><a href=#apache-hive--webhcat-reference-pig>Apache Hive : WebHCat Reference Pig</a>
<ul>
<li><a href=#description>Description</a></li>
<li><a href=#url>URL</a></li>
<li><a href=#parameters>Parameters</a></li>
<li><a href=#results>Results</a></li>
<li><a href=#example>Example</a>
<ul>
<li><a href=#code-and-data-setup>Code and Data Setup</a></li>
<li><a href=#curl-command>Curl Command</a></li>
<li><a href=#json-output>JSON Output</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</div>
</aside>
</main>
</div>
</div>
<footer class="black-background static-bottom" style=padding:30px>
<div class=row>
<div class=col-3>
<a href=https://www.apache.org/>
<img src=https://hive.apache.org/images/asf_logo.png width=270 height=100 alt="Apache Software Foundation"></a>
</a>
</div>
<div class=col-9>
<p class=footer-text>Apache is a non-profit organization helping open-source
software projects released under the Apache
<a href=https://www.apache.org/licenses/>license</a>
and managed with
<a href=https://www.apache.org/foundation/how-it-works.html>
open governance</a> and
<a href=https://privacy.apache.org/policies/privacy-policy-public.html>
privacy policy</a>. See upcoming
<a href=https://www.apache.org/events/current-event>Apache Events</a>.
If you discover any
<a href=https://www.apache.org/security/>security</a> vulnerabilities, please
report them privately. Finally,
<a href=https://www.apache.org/foundation/sponsorship.html>thanks
</a> to the sponsors who
<a href=https://www.apache.org/foundation/contributing.html>
donate</a> to the Apache Foundation.
</p>
</div>
</div>
<div class="copyright row">
<a href=https://hive.apache.org style=color:grey>
The contents of this website are © 2023 Apache Software Foundation under the terms of the Apache License v2. Apache Hive and its logo are trademarks of the Apache Software Foundation.
</a>
</div>
</footer>
<script src=https://hive.apache.org/js/bootstrap.bundle.min.js></script>
</body>
</html>