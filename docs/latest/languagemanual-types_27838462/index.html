<!doctype html><html><!doctype html>
<html>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content>
<meta name=author content>
<title>Apache Hive : LanguageManual Types</title>
<link rel=icon href=/images/hive.svg sizes=any type=image/svg+xml>
<link rel=stylesheet href=https://hive.apache.org/css/hive-theme.css>
<link rel=stylesheet href=https://hive.apache.org/css/font-awesome.all.min.css>
<link rel=stylesheet href=https://hive.apache.org/css/bootstrap.min.css>
<link rel=stylesheet href=https://hive.apache.org/css/termynal.css>
<link rel=apple-touch-icon sizes=180x180 href=https://hive.apache.org/images/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=https://hive.apache.org/images/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=https://hive.apache.org/images/favicon-16x16.png>
<link rel=manifest href=https://hive.apache.org/images/site.webmanifest>
<link rel=mask-icon href=https://hive.apache.org/images/safari-pinned-tab.svg color=#5bbad5>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
<script>var _paq=window._paq=window._paq||[];_paq.push(['disableCookies']),_paq.push(['trackPageView']),_paq.push(['enableLinkTracking']),function(){var b="https://analytics.apache.org/",c,a,d;_paq.push(['setTrackerUrl',b+'matomo.php']),_paq.push(['setSiteId','30']),c=document,a=c.createElement('script'),d=c.getElementsByTagName('script')[0],a.async=!0,a.src=b+'matomo.js',d.parentNode.insertBefore(a,d)}()</script>
</head>
<body>
<body>
<header>
<menu style=background:#000;margin:0>
<nav class="navbar navbar-expand-lg navbar-dark bg-black">
<div class=container-fluid>
<a href=https://hive.apache.org> <img src=https://hive.apache.org/images/hive.svg width=60 height=35 alt="Apache Software Foundation"></a>
<a class="header-text navbar-brand" href=https://hive.apache.org>Apache Hive</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse" id=navbarSupportedContent>
<ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item dropdown">
<a class=nav-link href=/general/downloads id=navbarDropdown role=button aria-expanded=false>
Releases
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=/Document id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Documentation
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=/docs/latest/>Latest</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/docs/javadocs/>Javadocs</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/LanguageManual>Language Manual</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=/general id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
General
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://www.apache.org/licenses/LICENSE-2.0.html>License</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/general/privacypolicy/>Privacy Policy</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Development
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://hive.apache.org/development/gettingstarted/>Getting Started</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/quickstart/>Quickstart with Docker</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/DesignDocs>Design Docs</a></li>
<li><a class=dropdown-item href=https://issues.apache.org/jira/projects/HIVE/issues>Hive JIRA</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ>Hive Developer FAQ</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/Hive+PreCommit+Patch+Testing>Precommit Patch Testing</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/versioncontrol/>Version Control</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Community
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=/community/becomingcommitter/>Becoming A Committer</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HowToContribute>How To Contribute</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/Home#Home-ResourcesforContributors>Resources for Contributors</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/mailinglists/>Mailing Lists</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/issuetracking/>Issue Tracking</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/people/>People</a></li>
<li>
<hr class=dropdown-divider>
</li>
<li><a class=dropdown-item href=/community/bylaws/>By Laws</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HowToRelease>How To Release</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class=nav-link href=https://hive.blog.apache.org/ id=navbarDropdown role=button aria-expanded=false>
Blogs
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
ASF
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://www.apache.org/foundation/contributing.html>Donations</a></li>
<li><a class=dropdown-item href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li>
<li><a class=dropdown-item href=https://www.apache.org/foundation/thanks.html>Thanks</a></li>
<li><a class=dropdown-item href=https://www.apache.org/>Website</a></li>
</ul>
</li>
<li>
<form action=/search method=get class=search-bar>
<input type=search name=q id=search-query placeholder=Search... class=search-input>
<button type=submit class=search-button>Search</button>
</form>
</li>
</ul>
</div>
</div>
</nav>
</menu>
</header>
<div class=content>
<div class=docs>
<h1 id=apache-hive--languagemanual-types>Apache Hive : LanguageManual Types</h1>
<h1 id=hive-data-types>Hive Data Types</h1>
<ul>
<li><a href=#hive-data-types>Hive Data Types</a>
<ul>
<li><a href=#overview>Overview</a>
<ul>
<li><a href=#numeric-types>Numeric Types</a></li>
<li><a href=#datetime-types>Date/Time Types</a></li>
<li><a href=#string-types>String Types</a></li>
<li><a href=#misc-types>Misc Types</a></li>
<li><a href=#complex-types>Complex Types</a></li>
</ul>
</li>
<li><a href=#column-types>Column Types</a>
<ul>
<li><a href=#integral-types--tinyint,-smallint,-int/integer,-bigint->Integral Types (TINYINT, SMALLINT, INT/INTEGER, BIGINT)</a></li>
<li></li>
<li><a href=#strings>Strings</a></li>
<li><a href=#varchar>Varchar</a></li>
<li><a href=#char>Char</a></li>
<li><a href=#timestamps>Timestamps</a>
<ul>
<li><a href=#casting-dates>Casting Dates</a></li>
</ul>
</li>
<li><a href=#intervals>Intervals</a></li>
<li><a href=#decimals>Decimals</a>
<ul>
<li><a href=#decimal-literals>Decimal Literals</a></li>
<li><a href=#decimal-type-incompatibilities-between-hive-0120-and-0130>Decimal Type Incompatibilities between Hive 0.12.0 and 0.13.0</a>
<ul>
<li><a href=#upgrading-pre-hive-0130-decimal-columns>Upgrading Pre-Hive 0.13.0 Decimal Columns</a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#union-types>Union Types</a></li>
</ul>
</li>
<li><a href=#literals>Literals</a>
<ul>
<li><a href=#floating-point-types>Floating Point Types</a>
<ul>
<li><a href=#decimal-types>Decimal Types</a>
<ul>
<li><a href=#using-decimal-types>Using Decimal Types</a></li>
<li><a href=#mathematical-udfs>Mathematical UDFs</a></li>
<li><a href=#casting-decimal-values>Casting Decimal Values</a></li>
<li><a href=#testing-decimal-types>Testing Decimal Types</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href=#handling-of-null-values>Handling of NULL Values</a></li>
<li><a href=#change-types>Change Types</a></li>
<li><a href=#allowed-implicit-conversions>Allowed Implicit Conversions</a></li>
</ul>
</li>
</ul>
<h2 id=overview>Overview</h2>
<p>This lists all supported data types in Hive. See <a href=#type-system>Type System</a> in the <a href=https://hive.apache.org/docs/latest/tutorial_27362061/>Tutorial</a> for additional information.</p>
<p>For data types supported by HCatalog, see:</p>
<ul>
<li><a href=#hcatloader-data-types>HCatLoader Data Types</a></li>
<li><a href=#hcatstorer-data-types>HCatStorer Data Types</a></li>
<li><a href=#hcatrecord-data-types>HCatRecord Data Types</a></li>
</ul>
<h3 id=numeric-types>Numeric Types</h3>
<ul>
<li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=82706456#LanguageManualTypes-tinyint"><code>TINYINT</code></a> (1-byte signed integer, from <code>-128</code> to <code>127</code>)</li>
<li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=82706456#LanguageManualTypes-smallint"><code>SMALLINT</code></a> (2-byte signed integer, from <code>-32,768</code> to <code>32,767</code>)</li>
<li>
<pre tabindex=0><code></code></pre></li>
</ul>
<p><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=82706456#LanguageManualTypes-int">INT</a>/INTEGER (4-byte signed integer, from -2,147,483,648 to 2,147,483,647)</p>
<pre tabindex=0><code>* [`BIGINT`](https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=82706456#LanguageManualTypes-bigint) (8-byte signed integer, from `-9,223,372,036,854,775,808` to `9,223,372,036,854,775,807`)
* `FLOAT` (4-byte single precision floating point number)
* `DOUBLE` (8-byte double precision floating point number)
* ```
DOUBLE PRECISION (alias for DOUBLE, only available starting with Hive [2.2.0](https://issues.apache.org/jira/browse/HIVE-13556))
</code></pre><ul>
<li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=82706456#LanguageManualTypes-decimal"><code>DECIMAL</code></a>
<ul>
<li>Introduced in Hive <a href=https://issues.apache.org/jira/browse/HIVE-2693>0.11.0</a> with a precision of 38 digits</li>
<li>Hive <a href=https://issues.apache.org/jira/browse/HIVE-3976>0.13.0</a> introduced user-definable precision and scale</li>
</ul>
</li>
<li><code>NUMERIC</code> (same as <code>DECIMAL</code>, starting with <a href=https://issues.apache.org/jira/browse/HIVE-16764>Hive 3.0.0</a>)</li>
</ul>
<h3 id=datetime-types>Date/Time Types</h3>
<ul>
<li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=82706456#LanguageManualTypes-timestamp"><code>TIMESTAMP</code></a> (Note: Only available starting with Hive <a href=https://issues.apache.org/jira/browse/HIVE-2272>0.8.0</a>)</li>
<li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=82706456#LanguageManualTypes-date"><code>DATE</code></a> (Note: Only available starting with Hive <a href=https://issues.apache.org/jira/browse/HIVE-4055>0.12.0</a>)</li>
<li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=82706456#LanguageManualTypes-Intervals"><code>INTERVAL</code></a> (Note: Only available starting with Hive <a href=https://issues.apache.org/jira/browse/HIVE-9792>1.2.0</a>)</li>
</ul>
<h3 id=string-types>String Types</h3>
<ul>
<li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=82706456#LanguageManualTypes-string"><code>STRING</code></a></li>
<li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=82706456#LanguageManualTypes-varchar"><code>VARCHAR</code></a> (Note: Only available starting with Hive <a href=https://issues.apache.org/jira/browse/HIVE-4844>0.12.0</a>)</li>
<li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=82706456#LanguageManualTypes-char"><code>CHAR</code></a> (Note: Only available starting with Hive <a href=https://issues.apache.org/jira/browse/HIVE-5191>0.13.0</a>)</li>
</ul>
<h3 id=misc-types>Misc Types</h3>
<ul>
<li><code>BOOLEAN</code></li>
<li><code>BINARY</code> (Note: Only available starting with Hive <a href=https://issues.apache.org/jira/browse/HIVE-2380>0.8.0</a>)</li>
</ul>
<h3 id=complex-types>Complex Types</h3>
<ul>
<li>arrays: <code>ARRAY&lt;data_type></code> (Note: negative values and non-constant expressions are allowed as of <a href=https://issues.apache.org/jira/browse/HIVE-7325>Hive 0.14</a>.)</li>
<li>maps: <code>MAP&lt;primitive_type, data_type></code> (Note: negative values and non-constant expressions are allowed as of <a href=https://issues.apache.org/jira/browse/HIVE-7325>Hive 0.14</a>.)</li>
<li>structs: <code>STRUCT&lt;col_name : data_type [COMMENT col_comment], ...></code></li>
<li>union: <code>UNIONTYPE&lt;data_type, data_type, ...></code> (Note: Only available starting with Hive <a href=https://issues.apache.org/jira/browse/HIVE-537>0.7.0</a>.)</li>
</ul>
<h2 id=column-types>Column Types</h2>
<h3 id=integral-types-tinyintsmallintintintegerbigint>Integral Types (<code>TINYINT</code>, <code>SMALLINT</code>, <code>INT/INTEGER</code>, <code>BIGINT</code>)</h3>
<h3 id=heading></h3>
<p>Integral literals are assumed to be <code>INT</code> by default, unless the number exceeds the range of <code>INT</code> in which case it is interpreted as a BIGINT, or if one of the following postfixes is present on the number.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Postfix</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>TINYINT</td>
<td>Y</td>
<td>100Y</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>S</td>
<td>100S</td>
</tr>
<tr>
<td>BIGINT</td>
<td>L</td>
<td>100L </td>
</tr>
</tbody>
</table>
<p>Version</p>
<p><code>INTEGER</code> is introduced as a synonym for <code>INT</code> in Hive 2.2.0 (<a href=https://issues.apache.org/jira/browse/HIVE-14950>HIVE-14950</a>).</p>
<h3 id=strings>Strings</h3>
<p>String literals can be expressed with either single quotes (') or double quotes ("). Hive uses C-style escaping within the strings.</p>
<h3 id=varchar>Varchar</h3>
<p>Varchar types are created with a length specifier (between 1 and 65535), which defines the maximum number of characters allowed in the character string. If a string value being converted/assigned to a varchar value exceeds the length specifier, the string is silently truncated. Character length is determined by the number of code points contained by the character string.</p>
<p>Like string, trailing whitespace is significant in varchar and will affect comparison results.</p>
<p>Limitations</p>
<p>Non-generic UDFs cannot directly use varchar type as input arguments or return values. String UDFs can be created instead, and the varchar values will be converted to strings and passed to the UDF. To use varchar arguments directly or to return varchar values, create a GenericUDF.<br>
There may be other contexts which do not support varchar, if they rely on reflection-based methods for retrieving type information. This includes some SerDe implementations.</p>
<p>Version</p>
<p>Varchar datatype was introduced in Hive 0.12.0 (<a href=https://issues.apache.org/jira/browse/HIVE-4844>HIVE-4844</a>).</p>
<h3 id=char>Char</h3>
<p>Char types are similar to Varchar but they are fixed-length meaning that values shorter than the specified length value are padded with spaces but trailing spaces are not important during comparisons. The maximum length is fixed at 255.</p>
<pre tabindex=0><code>CREATE TABLE foo (bar CHAR(10))

</code></pre><p>Version</p>
<p>Char datatype was introduced in Hive 0.13.0 (<a href=https://issues.apache.org/jira/browse/HIVE-5191>HIVE-5191</a>).</p>
<h3 id=timestamps>Timestamps</h3>
<p>Supports traditional UNIX timestamp with optional nanosecond precision.</p>
<p>Supported conversions:</p>
<ul>
<li>Integer numeric types: Interpreted as UNIX timestamp in seconds</li>
<li>Floating point numeric types: Interpreted as UNIX timestamp in seconds with decimal precision</li>
<li>Strings: JDBC compliant java.sql.Timestamp format &ldquo;<code>YYYY-MM-DD HH:MM:SS.fffffffff</code>&rdquo; (9 decimal place precision)</li>
</ul>
<p>Timestamps are interpreted to be timezoneless and stored as an offset from the UNIX epoch. Convenience <a href=#udfs>UDFs</a> for conversion to and from timezones are provided (<code>to_utc_timestamp</code>, <code>from_utc_timestamp</code>).<br>
All existing datetime <a href=#udfs>UDFs</a> (month, day, year, hour, etc.) work with the <code>TIMESTAMP</code> data type.</p>
<p>Timestamps in text files have to use the format <code>yyyy-mm-dd hh:mm:ss[.f...]</code>. If they are in another format, declare them as the appropriate type (INT, FLOAT, STRING, etc.) and use a UDF to convert them to timestamps.</p>
<p>Timestamps in Parquet files may be stored as int64 (as opposed to int96) by setting <code>hive.parquet.write.int64.timestamp=true</code> and <code>hive.parquet.timestamp.time.unit</code> to a default storage time unit. (<code>"nanos", "micros",</code> <code>"millis"</code>; default: <code>"micros"</code>). Note that because only 64 bits are stored, int64 timestamps stored as <code>"nanos"</code> will be stored as NULL if outside the range of 1677-09-21T00:12:43.15 and 2262-04-11T23:47:16.8.</p>
<p>On the table level, alternative timestamp formats can be supported by providing the format to the <a href=#serde-property>SerDe property</a> &ldquo;timestamp.formats&rdquo; (as of release 1.2.0 with <a href=https://issues.apache.org/jira/browse/HIVE-9298>HIVE-9298</a>). For example, <code>yyyy-MM-dd'T'HH:mm:ss.SSS,yyyy-MM-dd'T'HH:mm:ss.</code></p>
<p>Version</p>
<p>Timestamps were introduced in Hive 0.8.0 (<a href=https://issues.apache.org/jira/browse/HIVE-2272>HIVE-2272</a>).</p>
<p>Dates</p>
<p><code>DATE</code> values describe a particular year/month/day, in the form <code>YYYY-­MM-­DD</code>. For example, DATE &lsquo;2013-­01-­01&rsquo;. Date types do not have a time of day component. The range of values supported for the Date type is 0000-­01-­01 to 9999-­12-­31, dependent on support by the primitive Java Date type.</p>
<p>Version</p>
<p>Dates were introduced in Hive 0.12.0 (<a href=https://issues.apache.org/jira/browse/HIVE-4055>HIVE-4055</a>).</p>
<h4 id=casting-dates>Casting Dates</h4>
<p>Date types can only be converted to/from Date, Timestamp, or String types. Casting with user-specified formats is documented <a href=https://hive.apache.org/docs/latest/122917025/>here</a>.</p>
<table>
<thead>
<tr>
<th>Valid casts to/from Date type</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>cast(date as date)</td>
<td>Same date value</td>
</tr>
<tr>
<td>cast(timestamp as date)</td>
<td>The year/month/day of the timestamp is determined, based on the local timezone, and returned as a date value.</td>
</tr>
<tr>
<td>cast(string as date)</td>
<td>If the string is in the form &lsquo;YYYY-MM-DD&rsquo;, then a date value corresponding to that year/month/day is returned. If the string value does not match this formate, then NULL is returned.</td>
</tr>
<tr>
<td>cast(date as timestamp)</td>
<td>A timestamp value is generated corresponding to midnight of the year/month/day of the date value, based on the local timezone.</td>
</tr>
<tr>
<td>cast(date as string)</td>
<td>The year/month/day represented by the Date is formatted as a string in the form &lsquo;YYYY-MM-DD&rsquo;.</td>
</tr>
</tbody>
</table>
<h3 id=intervals>Intervals</h3>
<table>
<thead>
<tr>
<th>Supported Interval Description</th>
<th>Example</th>
<th>Meaning</th>
<th>Since</th>
</tr>
</thead>
<tbody>
<tr>
<td>Intervals of time units:SECOND / MINUTE / DAY / MONTH / YEAR</td>
<td>INTERVAL &lsquo;1&rsquo; DAY</td>
<td>an interval of 1 day(s)</td>
<td>Hive 1.2.0 (<a href=https://issues.apache.org/jira/browse/HIVE-9792>HIVE-9792</a>).</td>
</tr>
<tr>
<td>Year to month intervals, format: SY-MS: optional sign (+/-)Y: year countM: month count</td>
<td>INTERVAL &lsquo;1-2&rsquo; YEAR TO MONTH</td>
<td>shorthand for:INTERVAL &lsquo;1&rsquo; YEAR +INTERVAL &lsquo;2&rsquo; MONTH</td>
<td>Hive 1.2.0 (<a href=https://issues.apache.org/jira/browse/HIVE-9792>HIVE-9792</a>).</td>
</tr>
<tr>
<td>Day to second intervals, format: SD H:M:S.nnnnnnS: optional sign (+/-)D: day countH: hours M: minutesS: secondsnnnnnn: optional nanotime</td>
<td>INTERVAL &lsquo;1 2:3:4.000005&rsquo; DAY</td>
<td>shorthand for:INTERVAL &lsquo;1&rsquo; DAY+INTERVAL &lsquo;2&rsquo; HOUR +INTERVAL &lsquo;3&rsquo; MINUTE +INTERVAL &lsquo;4&rsquo; SECOND +INTERVAL &lsquo;5&rsquo; NANO</td>
<td>Hive 1.2.0 (<a href=https://issues.apache.org/jira/browse/HIVE-9792>HIVE-9792</a>).</td>
</tr>
<tr>
<td>Support for intervals with constant numbers</td>
<td>INTERVAL 1 DAY</td>
<td>aids query readability / portability </td>
<td>Hive 2.2.0 (<a href=https://issues.apache.org/jira/browse/HIVE-13557>HIVE-13557</a>).</td>
</tr>
<tr>
<td>Support for intervals with expressions:this may involve other functions/columns.The expression must return with a number (which is not floating-point) or with a string.</td>
<td>INTERVAL (1+dt) DAY</td>
<td>enables dynamic intervals</td>
<td>Hive 2.2.0 (<a href=https://issues.apache.org/jira/browse/HIVE-13557>HIVE-13557</a>).</td>
</tr>
<tr>
<td>Optional usage of interval keywordthe usage of the INTERVAL keyword is mandatoryfor intervals with expressions (ex: INTERVAL (1+dt) SECOND)</td>
<td>1 DAY'1-2' YEAR TO MONTH</td>
<td>INTERVAL 1 DAYINTERVAL &lsquo;1-2&rsquo; YEARS TO MONTH</td>
<td>Hive 2.2.0 (<a href=https://issues.apache.org/jira/browse/HIVE-13557>HIVE-13557</a>).</td>
</tr>
<tr>
<td>Add timeunit aliases to aid portability / readability: SECONDS / MINUTES / HOURS / DAYS / WEEKS / MONTHS / YEARS</td>
<td>2 SECONDS</td>
<td>2 SECOND</td>
<td>Hive 2.2.0 (<a href=https://issues.apache.org/jira/browse/HIVE-13557>HIVE-13557</a>).</td>
</tr>
</tbody>
</table>
<h3 id=decimals>Decimals</h3>
<p>Version</p>
<p>Decimal datatype was introduced in Hive 0.11.0 (<a href=https://issues.apache.org/jira/browse/HIVE-2693>HIVE-2693</a>) and revised in Hive 0.13.0 (<a href=https://issues.apache.org/jira/browse/HIVE-3976>HIVE-3976</a>).</p>
<p><code>NUMERIC</code> is the same as <code>DECIMAL</code> as of Hive 3.0.0 (<a href=https://issues.apache.org/jira/browse/HIVE-16764>HIVE-16764</a>).</p>
<p>The <code>DECIMAL</code> type in Hive is based on Java&rsquo;s <a href=http://docs.oracle.com/javase/6/docs/api/java/math/BigDecimal.html>BigDecimal</a> which is used for representing immutable arbitrary precision decimal numbers in Java. All regular number operations (e.g. +, -, *, /) and relevant UDFs (e.g. Floor, Ceil, Round, and many more) handle decimal types. You can cast to/from decimal types like you would do with other numeric types. The persistence format of the decimal type supports both scientific and non-scientific notation. Therefore, regardless of whether your dataset contains data like 4.004E+3 (scientific notation) or 4004 (non-scientific notation) or a combination of both, <code>DECIMAL</code> can be used for it.</p>
<ul>
<li>Hive 0.11 and 0.12 have the precision of the <code>DECIMAL</code> type fixed and limited to 38 digits.</li>
<li>As of Hive <a href=https://issues.apache.org/jira/browse/HIVE-3976>0.13</a> users can specify scale and precision when creating tables with the <code>DECIMAL</code> datatype using a <code>DECIMAL(precision, scale)</code> syntax.  If scale is not specified, it defaults to 0 (no fractional digits). If no precision is specified, it defaults to 10.</li>
</ul>
<pre tabindex=0><code>CREATE TABLE foo (
  a DECIMAL, -- Defaults to decimal(10,0)
  b DECIMAL(9, 7)
)

</code></pre><p>For usage, see <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=82706456#LanguageManualTypes-FloatingPointTypes">LanguageManual Types#Floating Point Types</a> in the Literals section below.</p>
<h4 id=decimal-literals>Decimal Literals</h4>
<p>Integral literals larger than BIGINT must be handled with Decimal(38,0). The Postfix BD is required. Example:</p>
<pre tabindex=0><code>select CAST(18446744073709001000BD AS DECIMAL(38,0)) from my_table limit 1;
</code></pre><h4 id=decimal-type-incompatibilities-between-hive-0120-and-0130>Decimal Type Incompatibilities between Hive 0.12.0 and 0.13.0</h4>
<p>With the changes in the Decimal data type in Hive 0.13.0, the pre-Hive 0.13.0 columns (of type &ldquo;decimal&rdquo;) will be treated as being of type decimal(10,0).  What this means is that existing data being read from these tables will be treated as 10-digit integer values, and data being written to these tables will be converted to 10-digit integer values before being written. To avoid these issues, Hive users on 0.12 or earlier with tables containing Decimal columns will be required to migrate their tables, after upgrading to Hive 0.13.0 or later.</p>
<h5 id=upgrading-pre-hive-0130-decimal-columns>Upgrading Pre-Hive 0.13.0 Decimal Columns</h5>
<p>If the user was on Hive 0.12.0 or earlier and created tables with decimal columns, they should perform the following steps on these tables <strong>after</strong> upgrading to Hive 0.13.0 or later.</p>
<ol>
<li>Determine what precision/scale you would like to set for the decimal column in the table.</li>
<li>For each decimal column in the table, update the column definition to the desired precision/scale using the <a href=#alter-table>ALTER TABLE</a> command:</li>
</ol>
<pre tabindex=0><code>ALTER TABLE foo CHANGE COLUMN dec_column_name dec_column_name DECIMAL(38,18);
</code></pre><p>If the table is not a partitioned table, then you are done.  If the table has partitions, then go on to step 3.
3. If the table is a partitioned table, then find the list of partitions for the table:</p>
<pre tabindex=0><code>SHOW PARTITIONS foo;
 
ds=2008-04-08/hr=11
ds=2008-04-08/hr=12
...
</code></pre><ol start=4>
<li>Each existing partition in the table must also have its DECIMAL column changed to add the desired precision/scale.</li>
</ol>
<p>This can be done with a single <a href=#alter-table-change-column>ALTER TABLE CHANGE COLUMN</a> by using dynamic partitioning (available for ALTER TABLE CHANGE COLUMN in Hive 0.14 or later, with <a href=https://issues.apache.org/jira/browse/HIVE-8411>HIVE-8411</a>):</p>
<pre tabindex=0><code>SET hive.exec.dynamic.partition = true;
 
-- hive.exec.dynamic.partition needs to be set to true to enable dynamic partitioning with ALTER PARTITION
-- This will alter all existing partitions of the table - be sure you know what you are doing!
ALTER TABLE foo PARTITION (ds, hr) CHANGE COLUMN dec_column_name dec_column_name DECIMAL(38,18);
</code></pre><p>Alternatively, this can be done one partition at a time using ALTER TABLE CHANGE COLUMN, by specifying one partition per statement (This is available in Hive 0.14 or later, with <a href=https://issues.apache.org/jira/browse/HIVE-7971>HIVE-7971</a>.):</p>
<pre tabindex=0><code>ALTER TABLE foo PARTITION (ds='2008-04-08', hr=11) CHANGE COLUMN dec_column_name dec_column_name DECIMAL(38,18);
ALTER TABLE foo PARTITION (ds='2008-04-08', hr=12) CHANGE COLUMN dec_column_name dec_column_name DECIMAL(38,18);
...
</code></pre><p>The Decimal datatype is discussed further in <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=27838462#LanguageManualTypes-FloatingPointTypes">Floating Point Types</a> below.</p>
<h3 id=union-types>Union Types</h3>
<p>UNIONTYPE support is incomplete</p>
<p>The UNIONTYPE datatype was introduced in Hive 0.7.0 (<a href=https://issues.apache.org/jira/browse/HIVE-537>HIVE-537</a>), but full support for this type in Hive remains incomplete. Queries that reference UNIONTYPE fields in JOIN (<a href=https://issues.apache.org/jira/browse/HIVE-2508>HIVE-2508</a>), WHERE, and GROUP BY clauses will fail, and Hive does not define syntax to extract the tag or value fields of a UNIONTYPE. This means that UNIONTYPEs are effectively pass-through-only.</p>
<p>Union types can at any one point hold exactly one of their specified data types. You can create an instance of this type using the <code>create_union</code> UDF:</p>
<pre tabindex=0><code>CREATE TABLE union_test(foo UNIONTYPE&lt;int, double, array&lt;string&gt;, struct&lt;a:int,b:string&gt;&gt;);
SELECT foo FROM union_test;

{0:1}
{1:2.0}
{2:[&quot;three&quot;,&quot;four&quot;]}
{3:{&quot;a&quot;:5,&quot;b&quot;:&quot;five&quot;}}
{2:[&quot;six&quot;,&quot;seven&quot;]}
{3:{&quot;a&quot;:8,&quot;b&quot;:&quot;eight&quot;}}
{0:9}
{1:10.0}

</code></pre><p>The first part in the deserialized union is the <em>tag</em> which lets us know which part of the union is being used. In this example <code>0</code> means the first data_type from the definition which is an <code>int</code> and so on.</p>
<p>To create a union you have to provide this tag to the <code>create_union</code> UDF:</p>
<pre tabindex=0><code>SELECT create_union(0, key), create_union(if(key&lt;100, 0, 1), 2.0, value), create_union(1, &quot;a&quot;, struct(2, &quot;b&quot;)) FROM src LIMIT 2;

{0:&quot;238&quot;}	{1:&quot;val_238&quot;}	{1:{&quot;col1&quot;:2,&quot;col2&quot;:&quot;b&quot;}}
{0:&quot;86&quot;}	{0:2.0}	{1:{&quot;col1&quot;:2,&quot;col2&quot;:&quot;b&quot;}}

</code></pre><h2 id=literals>Literals</h2>
<h3 id=floating-point-types>Floating Point Types</h3>
<p>Floating point literals are assumed to be DOUBLE. Scientific notation is not yet supported.</p>
<h4 id=decimal-types>Decimal Types</h4>
<p>Version</p>
<p>Decimal datatype was introduced in Hive 0.11.0 (<a href=https://issues.apache.org/jira/browse/HIVE-2693>HIVE-2693</a>). See <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=27838462#LanguageManualTypes-DecimalDatatype">Decimal Datatype</a> above.</p>
<p><code>NUMERIC</code> is the same as <code>DECIMAL</code> as of Hive 3.0.0 (<a href=https://issues.apache.org/jira/browse/HIVE-16764>HIVE-16764</a>).</p>
<p>Decimal literals provide precise values and greater range for floating point numbers than the DOUBLE type. Decimal data types store exact representations of numeric values, while DOUBLE data types store very close approximations of numeric values.</p>
<p>Decimal types are needed for use cases in which the (very close) approximation of a DOUBLE is insufficient, such as financial applications, equality and inequality checks, and rounding operations. They are also needed for use cases that deal with numbers outside the DOUBLE range (approximately -10308 to 10308) or very close to zero (-10-308 to 10-308). For a general discussion of the limits of the DOUBLE type, see the Wikipedia article <a href=http://en.wikipedia.org/wiki/Double-precision_floating-point_format>Double-precision floating-point format</a>.</p>
<p>The precision of a Decimal type is limited to 38 digits in Hive. See <a href=https://issues.apache.org/jira/browse/HIVE-4271>HIVE-4271</a> and <a href=https://issues.apache.org/jira/browse/HIVE-4320>HIVE-4320</a> for comments about the reasons for choosing this limit.</p>
<h5 id=using-decimal-types>Using Decimal Types</h5>
<p>You can create a table in Hive that uses the Decimal type with the following syntax:</p>
<pre tabindex=0><code>create table decimal_1 (t decimal);

</code></pre><p>The table <code>decimal_1</code> is a table having one field of type decimal which is basically a Decimal value.</p>
<p>You can read and write values in such a table using either the LazySimpleSerDe or the LazyBinarySerDe. For example:</p>
<pre tabindex=0><code>alter table decimal_1 set serde 'org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe';

</code></pre><p>or:</p>
<pre tabindex=0><code>alter table decimal_1 set serde 'org.apache.hadoop.hive.serde2.lazy.LazyBinarySerDe';

</code></pre><p>You can use a cast to convert a Decimal value to any other primitive type such as a BOOLEAN. For example:</p>
<pre tabindex=0><code>select cast(t as boolean) from decimal_2;

</code></pre><h5 id=mathematical-udfs>Mathematical UDFs</h5>
<p>Decimal also supports many <a href=#arithmetic-operators>arithmetic operators</a>, <a href=#mathematical-udfs>mathematical UDFs</a> and <a href=#udafs>UDAFs</a> with the same syntax as used in the case of DOUBLE.</p>
<p>Basic mathematical operations that can use decimal types include:</p>
<ul>
<li>Positive</li>
<li>Negative</li>
<li>Addition</li>
<li>Subtraction</li>
<li>Multiplication</li>
<li>Division</li>
<li>Average (avg)</li>
<li>Sum</li>
<li>Count</li>
<li>Modulus (pmod)</li>
<li>Sign – <a href=https://issues.apache.org/jira/browse/HIVE-6246>Hive 0.13.0</a> and later</li>
<li>Exp – <a href=https://issues.apache.org/jira/browse/HIVE-6327>Hive 0.13.0</a> and later</li>
<li>Ln – <a href=https://issues.apache.org/jira/browse/HIVE-6327>Hive 0.13.0</a> and later</li>
<li>Log2 – <a href=https://issues.apache.org/jira/browse/HIVE-6327>Hive 0.13.0</a> and later</li>
<li>Log10 – <a href=https://issues.apache.org/jira/browse/HIVE-6327>Hive 0.13.0</a> and later</li>
<li>Log(<em>base</em>) – <a href=https://issues.apache.org/jira/browse/HIVE-6327>Hive 0.13.0</a> and later</li>
<li>Sqrt – <a href=https://issues.apache.org/jira/browse/HIVE-6327>Hive 0.13.0</a> and later</li>
<li>Sin – <a href=https://issues.apache.org/jira/browse/HIVE-6327>Hive 0.13.0</a> and later</li>
<li>Asin – <a href=https://issues.apache.org/jira/browse/HIVE-6327>Hive 0.13.0</a> and later</li>
<li>Cos – <a href=https://issues.apache.org/jira/browse/HIVE-6327>Hive 0.13.0</a> and later</li>
<li>Acos – <a href=https://issues.apache.org/jira/browse/HIVE-6327>Hive 0.13.0</a> and later</li>
<li>Tan – <a href=https://issues.apache.org/jira/browse/HIVE-6327>Hive 0.13.0</a> and later</li>
<li>Atan – <a href=https://issues.apache.org/jira/browse/HIVE-6327>Hive 0.13.0</a> and later</li>
<li>Radians – <a href=https://issues.apache.org/jira/browse/HIVE-6327>Hive 0.13.0</a> and later</li>
<li>Degrees – <a href=https://issues.apache.org/jira/browse/HIVE-6385>Hive 0.13.0</a> and later</li>
</ul>
<p>These rounding functions can also take decimal types:</p>
<ul>
<li>Floor</li>
<li>Ceiling</li>
<li>Round</li>
</ul>
<p>Power(decimal, n) only supports positive integer values for the exponent n.</p>
<h5 id=casting-decimal-values>Casting Decimal Values</h5>
<p>Casting is supported between decimal values and any other primitive type such as integer, double, boolean, and so on.</p>
<h5 id=testing-decimal-types>Testing Decimal Types</h5>
<p>Two new tests have been added as part of the TestCliDriver framework within Hive. They are decimal_1.q and decimal_2.q. Other tests such as udf7.q cover the gamut of UDFs mentioned above.</p>
<p>More tests need to be added that demonstrate failure or when certain types of casts are prevented (for example, casting to date). There is some ambiguity in the round function because the rounding of Decimal does not work exactly as the SQL standard, and therefore it has been omitted in the current work.</p>
<p>For general information about running Hive tests, see <a href=https://cwiki.apache.org/confluence/display/Hive/HowToContribute>How to Contribute to Apache Hive</a> and <a href=https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ>Hive Developer FAQ</a>.</p>
<h2 id=handling-of-null-values>Handling of NULL Values</h2>
<p>Missing values are represented by the special value NULL. To import data with NULL fields, check documentation of the SerDe used by the table. (The default Text Format uses LazySimpleSerDe which interprets the string \N as NULL when importing.)</p>
<h2 id=change-types>Change Types</h2>
<p>When <a href=#hive-metastore-disallow-incompatible-col-type-changes>hive.metastore.disallow.incompatible.col.type.changes</a> is set to false, the types of columns in Metastore can be changed from any type to any other type. After such a type change, if the data can be shown correctly with the new type, the data will be displayed. Otherwise, the data will be displayed as NULL.</p>
<h2 id=allowed-implicit-conversions>Allowed Implicit Conversions</h2>
<table>
<thead>
<tr>
<th></th>
<th>void</th>
<th>boolean</th>
<th>tinyint</th>
<th>smallint</th>
<th>int</th>
<th>bigint</th>
<th>float</th>
<th>double</th>
<th>decimal</th>
<th>string</th>
<th>varchar</th>
<th>timestamp</th>
<th>date</th>
<th>binary</th>
</tr>
</thead>
<tbody>
<tr>
<td>void to</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td>boolean to</td>
<td>false</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>tinyint to</td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>smallint to</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>int to</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>bigint to</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>float to</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>double to</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>decimal to</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>string to</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>varchar to</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>timestamp to</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>date to</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>true</td>
<td>false</td>
</tr>
<tr>
<td>binary to</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>true</td>
</tr>
</tbody>
</table>
<p>Save</p>
</div>
</div>
<footer class="black-background static-bottom" style=padding:30px>
<div class=row>
<div class=col-3>
<a href=https://www.apache.org/>
<img src=https://hive.apache.org/images/asf_logo.png width=270 height=100 alt="Apache Software Foundation"></a>
</a>
</div>
<div class=col-9>
<p class=footer-text>Apache is a non-profit organization helping open-source
software projects released under the Apache
<a href=https://www.apache.org/licenses/>license</a>
and managed with
<a href=https://www.apache.org/foundation/how-it-works.html>
open governance</a> and
<a href=https://privacy.apache.org/policies/privacy-policy-public.html>
privacy policy</a>. See upcoming
<a href=https://www.apache.org/events/current-event>Apache Events</a>.
If you discover any
<a href=https://www.apache.org/security/>security</a> vulnerabilities, please
report them privately. Finally,
<a href=https://www.apache.org/foundation/sponsorship.html>thanks
</a> to the sponsors who
<a href=https://www.apache.org/foundation/contributing.html>
donate</a> to the Apache Foundation.
</p>
</div>
</div>
<div class="copyright row">
<a href=https://hive.apache.org style=color:grey>
The contents of this website are © 2023 Apache Software Foundation under the terms of the Apache License v2. Apache Hive and its logo are trademarks of the Apache Software Foundation.
</a>
</div>
</footer>
<script src=https://hive.apache.org/js/bootstrap.bundle.min.js></script>
</body>
</html>