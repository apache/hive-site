<!doctype html><html><!doctype html>
<html>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content>
<meta name=author content>
<title>Apache Hive : User FAQ</title>
<link rel=icon href=/images/hive.svg sizes=any type=image/svg+xml>
<link rel=stylesheet href=https://hive.apache.org/css/hive-theme.css>
<link rel=stylesheet href=https://hive.apache.org/css/font-awesome.all.min.css>
<link rel=stylesheet href=https://hive.apache.org/css/bootstrap.min.css>
<link rel=stylesheet href=https://hive.apache.org/css/termynal.css>
<link rel=apple-touch-icon sizes=180x180 href=https://hive.apache.org/images/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=https://hive.apache.org/images/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=https://hive.apache.org/images/favicon-16x16.png>
<link rel=manifest href=https://hive.apache.org/images/site.webmanifest>
<link rel=mask-icon href=https://hive.apache.org/images/safari-pinned-tab.svg color=#5bbad5>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
<script>var _paq=window._paq=window._paq||[];_paq.push(['disableCookies']),_paq.push(['trackPageView']),_paq.push(['enableLinkTracking']),function(){var b="https://analytics.apache.org/",c,a,d;_paq.push(['setTrackerUrl',b+'matomo.php']),_paq.push(['setSiteId','30']),c=document,a=c.createElement('script'),d=c.getElementsByTagName('script')[0],a.async=!0,a.src=b+'matomo.js',d.parentNode.insertBefore(a,d)}()</script>
</head>
<body>
<body>
<header>
<menu style=background:#000;margin:0>
<nav class="navbar navbar-expand-lg navbar-dark bg-black">
<div class=container-fluid>
<a href=https://hive.apache.org> <img src=https://hive.apache.org/images/hive.svg width=60 height=35 alt="Apache Software Foundation"></a>
<a class="header-text navbar-brand" href=https://hive.apache.org>Apache Hive</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse" id=navbarSupportedContent>
<ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item dropdown">
<a class=nav-link href=/general/downloads id=navbarDropdown role=button aria-expanded=false>
Releases
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=/Document id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Documentation
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=/docs/latest/>Latest</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/docs/javadocs/>Javadocs</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/LanguageManual>Language Manual</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=/general id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
General
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://www.apache.org/licenses/LICENSE-2.0.html>License</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/general/privacypolicy/>Privacy Policy</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Development
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://hive.apache.org/development/gettingstarted/>Getting Started</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/quickstart/>Quickstart with Docker</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/DesignDocs>Design Docs</a></li>
<li><a class=dropdown-item href=https://issues.apache.org/jira/projects/HIVE/issues>Hive JIRA</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ>Hive Developer FAQ</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/Hive+PreCommit+Patch+Testing>Precommit Patch Testing</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/versioncontrol/>Version Control</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Community
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=/community/becomingcommitter/>Becoming A Committer</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HowToContribute>How To Contribute</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/Home#Home-ResourcesforContributors>Resources for Contributors</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/mailinglists/>Mailing Lists</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/issuetracking/>Issue Tracking</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/people/>People</a></li>
<li>
<hr class=dropdown-divider>
</li>
<li><a class=dropdown-item href=/community/bylaws/>By Laws</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HowToRelease>How To Release</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class=nav-link href=https://hive.blog.apache.org/ id=navbarDropdown role=button aria-expanded=false>
Blogs
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
ASF
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://www.apache.org/foundation/contributing.html>Donations</a></li>
<li><a class=dropdown-item href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li>
<li><a class=dropdown-item href=https://www.apache.org/foundation/thanks.html>Thanks</a></li>
<li><a class=dropdown-item href=https://www.apache.org/>Website</a></li>
</ul>
</li>
<li>
<form action=/search method=get class=search-bar>
<input type=search name=q id=search-query placeholder=Search... class=search-input>
<button type=submit class=search-button>Search</button>
</form>
</li>
</ul>
</div>
</div>
</nav>
</menu>
</header>
<div class=content>
<div class=docs>
<h1 id=apache-hive--user-faq>Apache Hive : User FAQ</h1>
<h1 id=hive-user-faq>Hive User FAQ</h1>
<ul>
<li><a href=#hive-user-faq>Hive User FAQ</a>
<ul>
<li><a href=#general>General</a>
<ul>
<li><a href="#i-see-errors-like:-server-access-error:-connection-timed-out-url=http://archive-apache-org/dist/hadoop/core/hadoop-0-20-1/hadoop-0-20-1-tar-gz">I see errors like: Server access Error: Connection timed out url=http://archive.apache.org/dist/hadoop/core/hadoop-0.20.1/hadoop-0.20.1.tar.gz</a></li>
<li><a href=#how-to-change-the-warehousedir-location-for-older-tables>How to change the warehouse.dir location for older tables?</a></li>
<li><a href=#when-running-a-join-query-i-see-out-of-memory-errors>When running a JOIN query, I see out-of-memory errors.</a></li>
<li><a href=#mysql-excpeption>I am using MySQL as metastore and I see errors: &ldquo;com.mysql.jdbc.exceptions.jdbc4.!CommunicationsException: Communications link failure&rdquo;</a></li>
<li><a href=#does-hive-support-unicode>Does Hive support Unicode?</a></li>
</ul>
</li>
<li><a href=#hive-sql>Hive SQL</a>
<ul>
<li><a href=#are-hive-sql-identifiers-eg-table-names-column-names-etc-case-sensitive>Are Hive SQL identifiers (e.g. table names, column names, etc) case sensitive?</a></li>
<li><a href=#what-are-the-maximum-allowed-lengths-for-hive-sql-identifiers>What are the maximum allowed lengths for Hive SQL identifiers?</a></li>
</ul>
</li>
<li><a href=#importing-data-into-hive>Importing Data into Hive</a>
<ul>
<li><a href=#how-do-i-import-xml-data-into-hive>How do I import XML data into Hive?</a></li>
<li><a href=#how-do-i-import-csv-data-into-hive>How do I import CSV data into Hive?</a></li>
<li><a href=#how-do-i-import-json-data-into-hive>How do I import JSON data into Hive?</a></li>
<li><a href=#how-do-i-import-thrift-data-into-hive>How do I import Thrift data into Hive?</a></li>
<li><a href=#how-do-i-import-avro-data-into-hive>How do I import Avro data into Hive?</a></li>
<li><a href=#how-do-i-import-delimited-text-data-into-hive>How do I import delimited text data into Hive?</a></li>
<li><a href=#how-do-i-import-fixed-width-data-into-hive>How do I import fixed-width data into Hive?</a></li>
<li><a href=#how-do-i-import-ascii-logfiles-http-etc-into-hive>How do I import ASCII logfiles (HTTP, etc) into Hive?</a></li>
</ul>
</li>
<li><a href=#exporting-data-from-hive>Exporting Data from Hive</a></li>
<li><a href=#hive-data-model>Hive Data Model</a>
<ul>
<li><a href=#what-is-the-difference-between-a-native-table-and-an-external-table>What is the difference between a native table and an external table?</a></li>
<li><a href=#what-are-dynamic-partitions>What are dynamic partitions?</a></li>
<li><a href=#can-a-hive-table-contain-data-in-more-than-one-format>Can a Hive table contain data in more than one format?</a></li>
<li><a href=#is-it-possible-to-set-the-data-format-on-a-per-partition-basis>Is it possible to set the data format on a per-partition basis?</a></li>
</ul>
</li>
<li><a href=#jdbc-driver>JDBC Driver</a>
<ul>
<li><a href=#does-hive-have-a-jdbc-driver>Does Hive have a JDBC Driver?</a></li>
</ul>
</li>
<li><a href=#odbc-driver>ODBC Driver</a>
<ul>
<li><a href=#does-hive-have-an-odbc-driver>Does Hive have an ODBC driver?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id=general>General</h2>
<h3 id=i-see-errors-like-server-access-error-connection-timed-out-urlhttparchiveapacheorgdisthadoopcorehadoop-0201hadoop-0201targz>I see errors like: Server access Error: Connection timed out url=<a href=http://archive.apache.org/dist/hadoop/core/hadoop-0.20.1/hadoop-0.20.1.tar.gz>http://archive.apache.org/dist/hadoop/core/hadoop-0.20.1/hadoop-0.20.1.tar.gz</a></h3>
<p>Run the following commands:<br>
<code>cd ~/.ant/cache/hadoop/core/sources</code><br>
<code>wget &lt;http://archive.apache.org/dist/hadoop/core/hadoop-0.20.1/hadoop-0.20.1.tar.gz></code></p>
<h3 id=how-to-change-the-warehousedir-location-for-older-tables>How to change the warehouse.dir location for older tables?</h3>
<p>To change the base location of the Hive tables, edit the hive.metastore.warehouse.dir param. This will not affect the older tables. Metadata needs to be changed in the database (MySQL or Derby). The location of Hive tables is in table SDS and column LOCATION.</p>
<h3 id=when-running-a-join-query-i-see-out-of-memory-errors>When running a JOIN query, I see out-of-memory errors.</h3>
<p>This is usually caused by the order of JOIN tables. Instead of &ldquo;FROM tableA a JOIN tableB b ON &mldr;&rdquo;, try &ldquo;FROM tableB b JOIN tableA a ON &mldr;&rdquo;. NOTE that if you are using LEFT OUTER JOIN, you might want to change to RIGHT OUTER JOIN. This trick usually solve the problem - the rule of thumb is, always put the table with a lot of rows having the same value in the join key on the rightmost side of the JOIN.</p>
<h3 id=mysql-excpeption>I am using MySQL as metastore and I see errors: &ldquo;com.mysql.jdbc.exceptions.jdbc4.!CommunicationsException: Communications link failure&rdquo;</h3>
<p>This is usually caused by MySQL servers closing connections after the connection is idling for some time. Run the following command on the MySQL server will solve the problem &ldquo;set global wait_status=120;&rdquo;</p>
<ol>
<li>When using MySQL as a metastore I see the error &ldquo;com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Specified key was too long; max key length is 767 bytes&rdquo;.<br>
This is a known limitation of MySQL 5.0 and UTF8 databases. One option is to use another character set, such as &lsquo;latin1&rsquo;, which is known to work.</li>
</ol>
<h3 id=does-hive-support-unicode>Does Hive support Unicode?</h3>
<p>You can use Unicode string on data/comments, but cannot use for database/table/column name.</p>
<p>You can use UTF-8 encoding for Hive data. However, other encodings are not supported (HIVE-7142 introduce encoding for LazySimpleSerDe, however, the implementation is not complete and not address all cases).</p>
<h2 id=hive-sql>Hive SQL</h2>
<h3 id=are-hive-sql-identifiers-eg-table-names-column-names-etc-case-sensitive>Are Hive SQL identifiers (e.g. table names, column names, etc) case sensitive?</h3>
<p>No. Hive is case insensitive.</p>
<p>Executing:</p>
<blockquote>
<p><code>SELECT * FROM MyTable WHERE myColumn = 3</code></p>
</blockquote>
<p>is strictly equivalent to</p>
<blockquote>
<p><code>select * from mytable where mycolumn = 3</code></p>
</blockquote>
<h3 id=what-are-the-maximum-allowed-lengths-for-hive-sql-identifiers>What are the maximum allowed lengths for Hive SQL identifiers?</h3>
<h2 id=importing-data-into-hive>Importing Data into Hive</h2>
<h3 id=how-do-i-import-xml-data-into-hive>How do I import XML data into Hive?</h3>
<h3 id=how-do-i-import-csv-data-into-hive>How do I import CSV data into Hive?</h3>
<h3 id=how-do-i-import-json-data-into-hive>How do I import JSON data into Hive?</h3>
<h3 id=how-do-i-import-thrift-data-into-hive>How do I import Thrift data into Hive?</h3>
<h3 id=how-do-i-import-avro-data-into-hive>How do I import Avro data into Hive?</h3>
<h3 id=how-do-i-import-delimited-text-data-into-hive>How do I import delimited text data into Hive?</h3>
<h3 id=how-do-i-import-fixed-width-data-into-hive>How do I import fixed-width data into Hive?</h3>
<h3 id=how-do-i-import-ascii-logfiles-http-etc-into-hive>How do I import ASCII logfiles (HTTP, etc) into Hive?</h3>
<h2 id=exporting-data-from-hive>Exporting Data from Hive</h2>
<h2 id=hive-data-model>Hive Data Model</h2>
<h3 id=what-is-the-difference-between-a-native-table-and-an-external-table>What is the difference between a native table and an external table?</h3>
<h3 id=what-are-dynamic-partitions>What are dynamic partitions?</h3>
<h3 id=can-a-hive-table-contain-data-in-more-than-one-format>Can a Hive table contain data in more than one format?</h3>
<h3 id=is-it-possible-to-set-the-data-format-on-a-per-partition-basis>Is it possible to set the data format on a per-partition basis?</h3>
<h2 id=jdbc-driver>JDBC Driver</h2>
<h3 id=does-hive-have-a-jdbc-driver>Does Hive have a JDBC Driver?</h3>
<p>Yes. Look out to the hive-jdbc jar. The driver is &lsquo;org.apache.hadoop.hive.jdbc.HiveDriver&rsquo;.</p>
<p>It supports two modes: a local mode and a remote one.</p>
<p>In the remote mode it connects to the hive server through its Thrift API. The JDBC url to use should be of the form: &lsquo;jdbc:hive://hostname:port/databasename&rsquo;</p>
<p>In the local mode Hive is embedded. The JDBC url to use should be &lsquo;jdbc:hive://&rsquo;.</p>
<h2 id=odbc-driver>ODBC Driver</h2>
<h3 id=does-hive-have-an-odbc-driver>Does Hive have an ODBC driver?</h3>
<p>Yes.  Many third-party vendors provide ODBC drivers.</p>
<p>Simba provides both ODBC and JDBC drivers, and developed many of the drivers for other companies.</p>
<p><a href=http://www.simba.com/drivers/hive-odbc-jdbc/>http://www.simba.com/drivers/hive-odbc-jdbc/</a></p>
<p>Microsoft provides an ODBC driver for Hive in HDInsight and local clusters.</p>
<p><a href=https://azure.microsoft.com/en-us/documentation/articles/hdinsight-connect-excel-hive-odbc-driver/>https://azure.microsoft.com/en-us/documentation/articles/hdinsight-connect-excel-hive-odbc-driver/</a><br>
<a href="https://www.microsoft.com/en-ca/download/details.aspx?id=40886">https://www.microsoft.com/en-ca/download/details.aspx?id=40886</a> </p>
<p>Hortonworks provides an ODBC driver for HDP</p>
<p><a href=http://hortonworks.com/hdp/addons/>http://hortonworks.com/hdp/addons/</a></p>
<p>Cloudera provides an ODBC driver for Cloudera Enterprise</p>
<p><a href=http://www.cloudera.com/downloads/connectors/hive/odbc/2-5-12.html>http://www.cloudera.com/downloads/connectors/hive/odbc/2-5-12.html</a></p>
<p>MapR provides ODBC drivers</p>
<p><a href=http://doc.mapr.com/display/MapR/Hive+ODBC+Connector>http://doc.mapr.com/display/MapR/Hive+ODBC+Connector</a></p>
<p>Progress offers a DataDirect ODBC driver</p>
<p><a href=https://www.progress.com/odbc/apache-hadoop-hive>https://www.progress.com/odbc/apache-hadoop-hive</a></p>
<p>Amazon provides ODBC/JDBC drivers for Amazon EMR</p>
<p><a href=https://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/emr-bi-tools.html>https://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/emr-bi-tools.html</a></p>
<p> </p>
</div>
</div>
<footer class="black-background static-bottom" style=padding:30px>
<div class=row>
<div class=col-3>
<a href=https://www.apache.org/>
<img src=https://hive.apache.org/images/asf_logo.png width=270 height=100 alt="Apache Software Foundation"></a>
</a>
</div>
<div class=col-9>
<p class=footer-text>Apache is a non-profit organization helping open-source
software projects released under the Apache
<a href=https://www.apache.org/licenses/>license</a>
and managed with
<a href=https://www.apache.org/foundation/how-it-works.html>
open governance</a> and
<a href=https://privacy.apache.org/policies/privacy-policy-public.html>
privacy policy</a>. See upcoming
<a href=https://www.apache.org/events/current-event>Apache Events</a>.
If you discover any
<a href=https://www.apache.org/security/>security</a> vulnerabilities, please
report them privately. Finally,
<a href=https://www.apache.org/foundation/sponsorship.html>thanks
</a> to the sponsors who
<a href=https://www.apache.org/foundation/contributing.html>
donate</a> to the Apache Foundation.
</p>
</div>
</div>
<div class="copyright row">
<a href=https://hive.apache.org style=color:grey>
The contents of this website are © 2023 Apache Software Foundation under the terms of the Apache License v2. Apache Hive and its logo are trademarks of the Apache Software Foundation.
</a>
</div>
</footer>
<script src=https://hive.apache.org/js/bootstrap.bundle.min.js></script>
</body>
</html>