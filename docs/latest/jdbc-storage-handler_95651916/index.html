<!doctype html><html><!doctype html>
<html>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content>
<meta name=author content>
<title>Apache Hive : JDBC Storage Handler</title>
<link rel=icon href=/images/hive.svg sizes=any type=image/svg+xml>
<link rel=stylesheet href=https://hive.apache.org/css/hive-theme.css>
<link rel=stylesheet href=https://hive.apache.org/css/font-awesome.all.min.css>
<link rel=stylesheet href=https://hive.apache.org/css/bootstrap.min.css>
<link rel=stylesheet href=https://hive.apache.org/css/termynal.css>
<link rel=apple-touch-icon sizes=180x180 href=https://hive.apache.org/images/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=https://hive.apache.org/images/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=https://hive.apache.org/images/favicon-16x16.png>
<link rel=manifest href=https://hive.apache.org/images/site.webmanifest>
<link rel=mask-icon href=https://hive.apache.org/images/safari-pinned-tab.svg color=#5bbad5>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
<script>var _paq=window._paq=window._paq||[];_paq.push(['disableCookies']),_paq.push(['trackPageView']),_paq.push(['enableLinkTracking']),function(){var b="https://analytics.apache.org/",c,a,d;_paq.push(['setTrackerUrl',b+'matomo.php']),_paq.push(['setSiteId','30']),c=document,a=c.createElement('script'),d=c.getElementsByTagName('script')[0],a.async=!0,a.src=b+'matomo.js',d.parentNode.insertBefore(a,d)}()</script>
</head>
<body>
<body>
<header>
<menu style=background:#000;margin:0>
<nav class="navbar navbar-expand-lg navbar-dark bg-black">
<div class=container-fluid>
<a href=https://hive.apache.org> <img src=https://hive.apache.org/images/hive.svg width=60 height=35 alt="Apache Software Foundation"></a>
<a class="header-text navbar-brand" href=https://hive.apache.org>Apache Hive</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse" id=navbarSupportedContent>
<ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item dropdown">
<a class=nav-link href=/general/downloads id=navbarDropdown role=button aria-expanded=false>
Releases
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=/Document id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Documentation
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=/docs/latest/>Latest</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/docs/javadocs/>Javadocs</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/LanguageManual>Language Manual</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=/general id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
General
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://www.apache.org/licenses/LICENSE-2.0.html>License</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/general/privacypolicy/>Privacy Policy</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Development
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://hive.apache.org/development/gettingstarted/>Getting Started</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/quickstart/>Quickstart with Docker</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/DesignDocs>Design Docs</a></li>
<li><a class=dropdown-item href=https://issues.apache.org/jira/projects/HIVE/issues>Hive JIRA</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ>Hive Developer FAQ</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/Hive+PreCommit+Patch+Testing>Precommit Patch Testing</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/versioncontrol/>Version Control</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Community
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=/community/becomingcommitter/>Becoming A Committer</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HowToContribute>How To Contribute</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/Home#Home-ResourcesforContributors>Resources for Contributors</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/mailinglists/>Mailing Lists</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/issuetracking/>Issue Tracking</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/people/>People</a></li>
<li>
<hr class=dropdown-divider>
</li>
<li><a class=dropdown-item href=/community/bylaws/>By Laws</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HowToRelease>How To Release</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class=nav-link href=https://hive.blog.apache.org/ id=navbarDropdown role=button aria-expanded=false>
Blogs
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
ASF
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://www.apache.org/foundation/contributing.html>Donations</a></li>
<li><a class=dropdown-item href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li>
<li><a class=dropdown-item href=https://www.apache.org/foundation/thanks.html>Thanks</a></li>
<li><a class=dropdown-item href=https://www.apache.org/>Website</a></li>
</ul>
</li>
<li>
<form action=/search method=get class=search-bar>
<input type=search name=q id=search-query placeholder=Search... class=search-input>
<button type=submit class=search-button>Search</button>
</form>
</li>
</ul>
</div>
</div>
</nav>
</menu>
</header>
<div class=content>
<div class=docs>
<h1 id=apache-hive--jdbc-storage-handler>Apache Hive : JDBC Storage Handler</h1>
<h1 id=heading></h1>
<ul>
<li></li>
<li><a href=#syntax>Syntax</a>
<ul>
<li><a href=#table-properties>Table Properties</a></li>
<li><a href=#supported-data-type>Supported Data Type</a></li>
<li><a href=#columntype-mapping>Column/Type Mapping</a></li>
</ul>
</li>
<li><a href=#auto-shipping>Auto Shipping</a></li>
<li><a href=#securing-password>Securing Password</a></li>
<li><a href=#partitioning>Partitioning</a></li>
<li><a href=#computation-pushdown>Computation Pushdown</a></li>
<li><a href=#using-a-non-default-schema>Using a Non-default Schema</a>
<ul>
<li><a href=#mariadb>MariaDB</a></li>
<li><a href=#ms-sql>MS SQL</a></li>
<li><a href=#oracle>Oracle</a></li>
<li><a href=#postgresql>PostgreSQL</a></li>
</ul>
</li>
</ul>
<h1 id=syntax>Syntax</h1>
<p>JdbcStorageHandler supports reading from jdbc data source in Hive. Currently writing to a jdbc data source is not supported. To use JdbcStorageHandler, you need to create an external table using JdbcStorageHandler. Here is a simple example:</p>
<pre tabindex=0><code>CREATE EXTERNAL TABLE student_jdbc
(
  name string,
  age int,
  gpa double
)
STORED BY 'org.apache.hive.storage.jdbc.JdbcStorageHandler'
TBLPROPERTIES (
    &quot;hive.sql.database.type&quot; = &quot;MYSQL&quot;,
    &quot;hive.sql.jdbc.driver&quot; = &quot;com.mysql.jdbc.Driver&quot;,
    &quot;hive.sql.jdbc.url&quot; = &quot;jdbc:mysql://localhost/sample&quot;,
    &quot;hive.sql.dbcp.username&quot; = &quot;hive&quot;,
    &quot;hive.sql.dbcp.password&quot; = &quot;hive&quot;,
    &quot;hive.sql.table&quot; = &quot;STUDENT&quot;,
    &quot;hive.sql.dbcp.maxActive&quot; = &quot;1&quot;
);
</code></pre><p>You can also alter table properties of the jdbc external table using alter table statement, just like other non-native Hive table:</p>
<pre tabindex=0><code>ALTER TABLE student_jdbc SET TBLPROPERTIES (&quot;hive.sql.dbcp.password&quot; = &quot;passwd&quot;);
</code></pre><h2 id=table-properties>Table Properties</h2>
<p>In the create table statement, you are required to specify the following table properties:</p>
<ul>
<li>hive.sql.database.type: MYSQL, POSTGRES, ORACLE, DERBY, DB2</li>
<li>hive.sql.jdbc.url: jdbc connection string</li>
<li>hive.sql.jdbc.driver: jdbc driver class</li>
<li>hive.sql.dbcp.username: jdbc user name</li>
<li>hive.sql.dbcp.password: jdbc password in clear text, this parameter is strongly discouraged. The recommended way is to store it in a keystore. See the section “securing password” for detail</li>
<li>hive.sql.table / hive.sql.query: You will need to specify either “hive.sql.table” or “hive.sql.query” to tell how to get data from jdbc database. “hive.sql.table” denotes a single table, and “hive.sql.query” denotes an arbitrary sql query.</li>
</ul>
<p>Besides the above required properties, you can also specify optional parameters to tune the connection details and performance:</p>
<ul>
<li>hive.sql.catalog: jdbc catalog name (only valid if “hive.sql.table“ is specified)</li>
<li>hive.sql.schema: jdbc schema name (only valid if “hive.sql.table“ is specified)</li>
<li>hive.sql.jdbc.fetch.size: number of rows to fetch in a batch</li>
<li>hive.sql.dbcp.xxx: all dbcp parameters will pass to commons-dbcp. See <a href=https://commons.apache.org/proper/commons-dbcp/configuration.html>https://commons.apache.org/proper/commons-dbcp/configuration.html</a> for definition of the parameters. For example, if you specify hive.sql.dbcp.maxActive=1 in table property, Hive will pass maxActive=1 to commons-dbcp</li>
</ul>
<h2 id=supported-data-type>Supported Data Type</h2>
<p>The column data type for a Hive JdbcStorageHandler table can be:</p>
<ul>
<li>Numeric data type: byte, short, int, long, float, double</li>
<li>Decimal with scale and precision</li>
<li>String date type: string, char, varchar</li>
<li>Date</li>
<li>Timestamp</li>
</ul>
<p>Note complex data type: struct, map, array are not supported</p>
<h2 id=columntype-mapping>Column/Type Mapping</h2>
<p>hive.sql.table / hive.sql.query defines a tabular data with a schema. The schema definition has to be the same as the table schema definition. For example, the following create table statement will fail:</p>
<pre tabindex=0><code>CREATE EXTERNAL TABLE student_jdbc
(
  name string,
  age int,
  gpa double
)
STORED BY 'org.apache.hive.storage.jdbc.JdbcStorageHandler'
TBLPROPERTIES (
    . . . . . .
    &quot;hive.sql.query&quot; = &quot;SELECT name, age, gpa, gender FROM STUDENT&quot;,
);
</code></pre><p>However, column name and column type of hive.sql.table / hive.sql.query schema may be different than the table schema. In this case, database column maps to hive column by position. If data type is different, Hive will try to convert it according to Hive table schema. For example:</p>
<pre tabindex=0><code>CREATE EXTERNAL TABLE student_jdbc
(
  sname string,
  age int,
  effective_gpa decimal(4,3)
)
STORED BY 'org.apache.hive.storage.jdbc.JdbcStorageHandler'
TBLPROPERTIES (
    . . . . . .
    &quot;hive.sql.query&quot; = &quot;SELECT name, age, gpa FROM STUDENT&quot;,
);
</code></pre><p>Hive will try to convert the double “gpa” of underlining table STUDENT to decimal(4,3) as the effective_gpa field of the student_jdbc table. In case the conversion is not possible, Hive will produce null for the field.</p>
<h1 id=auto-shipping>Auto Shipping</h1>
<p>JdbcStorageHandler will ship required jars to MR/Tez/LLAP backend automatically if JdbcStorageHandler is used in the query. User don’t need to add jar manually. JdbcStorageHandler will also ship required jdbc driver jar to the backend if it detects any jdbc driver jar in classpath (include mysql, postgres, oracle and mssql). However, user are still required to copy jdbc driver jar to hive classpath (usually, lib directory in hive).</p>
<h1 id=securing-password>Securing Password</h1>
<p>In most cases, we don’t want to store jdbc password in clear text in table property &ldquo;hive.sql.dbcp.password&rdquo;. Instead, user can store password in a Java keystore file on HDFS using the following command:</p>
<pre tabindex=0><code>hadoop credential create host1.password -provider jceks://hdfs/user/foo/test.jceks -v passwd1
hadoop credential create host2.password -provider jceks://hdfs/user/foo/test.jceks -v passwd2
</code></pre><p>This will create a keystore file located on hdfs://user/foo/test.jceks which contains two keys: host1.password and host2.password. When creating table in Hive, you will need to specify “hive.sql.dbcp.password.keystore” and “hive.sql.dbcp.password.key” instead of “hive.sql.dbcp.password” in create table statement:</p>
<pre tabindex=0><code>CREATE EXTERNAL TABLE student_jdbc
(
  name string,
  age int,
  gpa double
)
STORED BY 'org.apache.hive.storage.jdbc.JdbcStorageHandler'
TBLPROPERTIES (
    . . . . . .
    &quot;hive.sql.dbcp.password.keystore&quot; = &quot;jceks://hdfs/user/foo/test.jceks&quot;,
    &quot;hive.sql.dbcp.password.key&quot; = &quot;host1.password&quot;,
    . . . . . .
);
</code></pre><p>You will need to protect the keystore file by only authorize targeted user to read this file using authorizer (such as ranger). Hive will check the permission of the keystore file to make sure user has read permission of it when creating/altering table.</p>
<h1 id=partitioning>Partitioning</h1>
<p>Hive is able to split the jdbc data source and process each split in parallel. User can use the following table property to decide whether or not to split and how many splits to split into:</p>
<ul>
<li>hive.sql.numPartitions: how many split to generate for the data source, 1 if no split</li>
<li>hive.sql.partitionColumn: which column to split on. If this is specified, Hive will split the column into hive.sql.numPartitions equal intervals from hive.sql.lowerBound to hive.sql.upperBound. If partitionColumn is not defined but numPartitions > 1, Hive will split the data source using offset. However, offset is not always reliable for some databases. It is highly recommended to define a partitionColumn if you want to split the data source. The partitionColumn must exist in the schema “hive.sql.table”/”hive.sql.query” produces.</li>
<li>hive.sql.lowerBound / hive.sql.upperBound: lower/upper bound of the partitionColumn used to calculate the intervals. Both properties are optional. If undefined, Hive will do a MIN/MAX query against the data source to get the lower/upper bound. Note both hive.sql.lowerBound and hive.sql.upperBound cannot be null. The first and last split are open ended. And all null value for the column will go to the first split.</li>
</ul>
<p>For example:</p>
<pre tabindex=0><code>TBLPROPERTIES (
    . . . . . .
    &quot;hive.sql.table&quot; = &quot;DEMO&quot;,
    &quot;hive.sql.partitionColumn&quot; = &quot;num&quot;,
    &quot;hive.sql.numPartitions&quot; = &quot;3&quot;,
    &quot;hive.sql.lowerBound&quot; = &quot;1&quot;,
    &quot;hive.sql.upperBound&quot; = &quot;10&quot;,
    . . . . . .
);
</code></pre><p>This table will create 3 splits: num&lt;4 or num is null, 4&lt;=num&lt;7, num>=7</p>
<pre tabindex=0><code>TBLPROPERTIES (
    . . . . . .
    &quot;hive.sql.query&quot; = &quot;SELECT name, age, gpa/5.0*100 AS percentage FROM STUDENT&quot;,
    &quot;hive.sql.partitionColumn&quot; = &quot;percentage&quot;,
    &quot;hive.sql.numPartitions&quot; = &quot;4&quot;,
    . . . . . .
);
</code></pre><p>Hive will do a jdbc query to get the MIN/MAX of the percentage column of the query, which is 60, 100. Then table will create 4 splits: (,70),[70,80),[80,90),[90,). The first split also include null value.</p>
<p>To see the splits generated by JdbcStorageHandler, looking for the following messages in hiveserver2 log or Tez AM log:</p>
<pre tabindex=0><code>jdbc.JdbcInputFormat: Num input splits created 4
jdbc.JdbcInputFormat: split:interval:ikey[,70)
jdbc.JdbcInputFormat: split:interval:ikey[70,80)
jdbc.JdbcInputFormat: split:interval:ikey[80,90)
jdbc.JdbcInputFormat: split:interval:ikey[90,)
</code></pre><h1 id=computation-pushdown>Computation Pushdown</h1>
<p>Hive will pushdown computation to jdbc table aggressively, so we can make best usage of the native capacity of jdbc data source.</p>
<p>For example, if we have another table voter_jdbc:</p>
<pre tabindex=0><code>EATE EXTERNAL TABLE voter_jdbc
(
  name string,
  age int,
  registration string,
  contribution decimal(10,2)
)
STORED BY 'org.apache.hive.storage.jdbc.JdbcStorageHandler'
TBLPROPERTIES (
    &quot;hive.sql.database.type&quot; = &quot;MYSQL&quot;,
    &quot;hive.sql.jdbc.driver&quot; = &quot;com.mysql.jdbc.Driver&quot;,
    &quot;hive.sql.jdbc.url&quot; = &quot;jdbc:mysql://localhost/sample&quot;,
    &quot;hive.sql.dbcp.username&quot; = &quot;hive&quot;,
    &quot;hive.sql.dbcp.password&quot; = &quot;hive&quot;,
    &quot;hive.sql.table&quot; = &quot;VOTER&quot;
);
</code></pre><p>Then the following join operation will push down to mysql:</p>
<pre tabindex=0><code>select * from student_jdbc join voter_jdbc on student_jdbc.name=voter_jdbc.name;
</code></pre><p>This can be manifest by explain:</p>
<pre tabindex=0><code>explain select * from student_jdbc join voter_jdbc on student_jdbc.name=voter_jdbc.name;
        . . . . . .
        TableScan
          alias: student_jdbc
          properties:
            hive.sql.query SELECT `t`.`name`, `t`.`age`, `t`.`gpa`, `t0`.`name` AS `name0`, `t0`.`age` AS `age0`, `t0`.`registration`, `t0`.`contribution`
FROM (SELECT *
FROM `STUDENT`
WHERE `name` IS NOT NULL) AS `t`
INNER JOIN (SELECT *
FROM `VOTER`
WHERE `name` IS NOT NULL) AS `t0` ON `t`.`name` = `t0`.`name`
        . . . . . .
</code></pre><p>Computation pushdown will only happen when the jdbc table is defined by “hive.sql.table”. Hive will rewrite the data source with a “hive.sql.query” property with more computation on top of the table. In the above example, mysql will run the query and retrieve the join result, rather than fetch both tables and do the join in Hive.</p>
<p>The operators can be pushed down include filter, transform, join, union, aggregation and sort.</p>
<p>The derived mysql query can be very complex and in many cases we don’t want to split the data source thus run the complex query multiple times on each split. So if the computation is more then just filter and transform, Hive will not split the query result even if “hive.sql.numPartitions” is more than 1.</p>
<h1 id=using-a-non-default-schema>Using a Non-default Schema</h1>
<p>The notion of schema differs from DBMS to DBMS, such as Oracle, MSSQL, MySQL, and PostgreSQL. Correct usage of the hive.sql.schema table property can prevent problems with client connections to external JDBC tables. For more information, see <a href=https://issues.apache.org/jira/browse/HIVE-25591>Hive-25591</a>. To create external tables based on a user-defined schema in a JDBC-compliant database, follow the examples below for respective databases.</p>
<h2 id=mariadb>MariaDB</h2>
<pre tabindex=0><code>CREATE SCHEMA bob;
CREATE TABLE bob.country
(
    id   int,
    name varchar(20)
);

insert into bob.country
values (1, 'India');
insert into bob.country
values (2, 'Russia');
insert into bob.country
values (3, 'USA');

CREATE SCHEMA alice;
CREATE TABLE alice.country
(
    id   int,
    name varchar(20)
);

insert into alice.country
values (4, 'Italy');
insert into alice.country
values (5, 'Greece');
insert into alice.country
values (6, 'China');
insert into alice.country
values (7, 'Japan');
</code></pre><h2 id=ms-sql>MS SQL</h2>
<pre tabindex=0><code>CREATE DATABASE world;
USE world;

CREATE SCHEMA bob;
CREATE TABLE bob.country
(
    id   int,
    name varchar(20)
);

insert into bob.country
values (1, 'India');
insert into bob.country
values (2, 'Russia');
insert into bob.country
values (3, 'USA');

CREATE SCHEMA alice;
CREATE TABLE alice.country
(
    id   int,
    name varchar(20)
);

insert into alice.country
values (4, 'Italy');
insert into alice.country
values (5, 'Greece');
insert into alice.country
values (6, 'China');
insert into alice.country
values (7, 'Japan');
</code></pre><p>Create a user and associate them with a default schema. For example:</p>
<pre tabindex=0><code>CREATE LOGIN greg WITH PASSWORD = 'GregPass123!$';
CREATE USER greg FOR LOGIN greg WITH DEFAULT_SCHEMA=bob;
</code></pre><p>Allow the user to connect to the database and run queries. For example:</p>
<pre tabindex=0><code>GRANT CONNECT, SELECT TO greg;
</code></pre><h2 id=oracle>Oracle</h2>
<p>In Oracle, dividing the tables into different namespaces/schemas is achieved through different users. The CREATE SCHEMA statement exists in Oracle, but has different semantics from those defined by SQL Standard and those adopted in other DBMS.</p>
<p>To create &ldquo;local&rdquo; users in Oracle you need to be connected to the Pluggable Database (PDB), not to the Container Database (CDB). The following example was tested in Oracle XE edition, using only PDB XEPDB1.</p>
<pre tabindex=0><code>ALTER SESSION SET CONTAINER = XEPDB1;
</code></pre><p>Create the bob schema/user and give appropriate connections to be able to connect to the database. For example:</p>
<pre tabindex=0><code>CREATE USER bob IDENTIFIED BY bobpass;
ALTER USER bob QUOTA UNLIMITED ON users;
GRANT CREATE SESSION TO bob;

CREATE TABLE bob.country
(
    id   int,
    name varchar(20)
);

insert into bob.country
values (1, 'India');
insert into bob.country
values (2, 'Russia');
insert into bob.country
values (3, 'USA');
</code></pre><p>Create the alice schema/user and give appropriate connections to be able to connect to the database. For example:</p>
<pre tabindex=0><code>CREATE USER alice IDENTIFIED BY alicepass;
ALTER USER alice QUOTA UNLIMITED ON users;

GRANT CREATE SESSION TO alice;
CREATE TABLE alice.country
(
    id   int,
    name varchar(20)
);

insert into alice.country
values (4, 'Italy');
insert into alice.country
values (5, 'Greece');
insert into alice.country
values (6, 'China');
insert into alice.country
values (7, 'Japan');
</code></pre><p>Without the SELECT ANY privilege, a user cannot see the tables/views of another user. When a user connects to the database using a specific user and schema it is not possible to refer to tables in another user/schema<br>
&ndash; namespace. You need to grant the SELECT ANY privilege. For example:</p>
<pre tabindex=0><code>GRANT SELECT ANY TABLE TO bob;
GRANT SELECT ANY TABLE TO alice;
</code></pre><p>Allow the users to perform inserts on any table/view in the database, not only those present on their own schema. For example:</p>
<pre tabindex=0><code>GRANT INSERT ANY TABLE TO bob;
GRANT INSERT ANY TABLE TO alice;
</code></pre><h2 id=postgresql>PostgreSQL</h2>
<pre tabindex=0><code>CREATE SCHEMA bob;
CREATE TABLE bob.country
(
    id   int,
    name varchar(20)
);

insert into bob.country
values (1, 'India');
insert into bob.country
values (2, 'Russia');
insert into bob.country
values (3, 'USA');

CREATE SCHEMA alice;
CREATE TABLE alice.country
(
    id   int,
    name varchar(20)
);

insert into alice.country
values (4, 'Italy');
insert into alice.country
values (5, 'Greece');
insert into alice.country
values (6, 'China');
insert into alice.country
values (7, 'Japan');
</code></pre><p>Create a user and associate them with a default schema &lt;=> search_path. For example:</p>
<pre tabindex=0><code>CREATE ROLE greg WITH LOGIN PASSWORD 'GregPass123!$';
ALTER ROLE greg SET search_path TO bob;
</code></pre><p>Grant the necessary permissions to access the schema. For example:</p>
<pre tabindex=0><code>GRANT USAGE ON SCHEMA bob TO greg;
GRANT SELECT ON ALL TABLES IN SCHEMA bob TO greg;
</code></pre>
</div>
</div>
<footer class="black-background static-bottom" style=padding:30px>
<div class=row>
<div class=col-3>
<a href=https://www.apache.org/>
<img src=https://hive.apache.org/images/asf_logo.png width=270 height=100 alt="Apache Software Foundation"></a>
</a>
</div>
<div class=col-9>
<p class=footer-text>Apache is a non-profit organization helping open-source
software projects released under the Apache
<a href=https://www.apache.org/licenses/>license</a>
and managed with
<a href=https://www.apache.org/foundation/how-it-works.html>
open governance</a> and
<a href=https://privacy.apache.org/policies/privacy-policy-public.html>
privacy policy</a>. See upcoming
<a href=https://www.apache.org/events/current-event>Apache Events</a>.
If you discover any
<a href=https://www.apache.org/security/>security</a> vulnerabilities, please
report them privately. Finally,
<a href=https://www.apache.org/foundation/sponsorship.html>thanks
</a> to the sponsors who
<a href=https://www.apache.org/foundation/contributing.html>
donate</a> to the Apache Foundation.
</p>
</div>
</div>
<div class="copyright row">
<a href=https://hive.apache.org style=color:grey>
The contents of this website are © 2023 Apache Software Foundation under the terms of the Apache License v2. Apache Hive and its logo are trademarks of the Apache Software Foundation.
</a>
</div>
</footer>
<script src=https://hive.apache.org/js/bootstrap.bundle.min.js></script>
</body>
</html>