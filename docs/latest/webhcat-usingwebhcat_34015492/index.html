<!doctype html><html><!doctype html>
<html>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content>
<meta name=author content>
<title>Apache Hive : WebHCat UsingWebHCat</title>
<link rel=icon href=/images/hive.svg sizes=any type=image/svg+xml>
<link rel=stylesheet href=https://hive.apache.org/css/hive-theme.css>
<link rel=stylesheet href=https://hive.apache.org/css/font-awesome.all.min.css>
<link rel=stylesheet href=https://hive.apache.org/css/bootstrap.min.css>
<link rel=stylesheet href=https://hive.apache.org/css/termynal.css>
<link rel=apple-touch-icon sizes=180x180 href=https://hive.apache.org/images/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=https://hive.apache.org/images/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=https://hive.apache.org/images/favicon-16x16.png>
<link rel=manifest href=https://hive.apache.org/images/site.webmanifest>
<link rel=mask-icon href=https://hive.apache.org/images/safari-pinned-tab.svg color=#5bbad5>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
<script>var _paq=window._paq=window._paq||[];_paq.push(['disableCookies']),_paq.push(['trackPageView']),_paq.push(['enableLinkTracking']),function(){var b="https://analytics.apache.org/",c,a,d;_paq.push(['setTrackerUrl',b+'matomo.php']),_paq.push(['setSiteId','30']),c=document,a=c.createElement('script'),d=c.getElementsByTagName('script')[0],a.async=!0,a.src=b+'matomo.js',d.parentNode.insertBefore(a,d)}()</script>
</head>
<body>
<body>
<header>
<menu style=background:#000;margin:0>
<nav class="navbar navbar-expand-lg navbar-dark bg-black">
<div class=container-fluid>
<a href=https://hive.apache.org> <img src=https://hive.apache.org/images/hive.svg width=60 height=35 alt="Apache Software Foundation"></a>
<a class="header-text navbar-brand" href=https://hive.apache.org>Apache Hive</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse" id=navbarSupportedContent>
<ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item dropdown">
<a class=nav-link href=/general/downloads id=navbarDropdown role=button aria-expanded=false>
Releases
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=/Document id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Documentation
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=/docs/latest/>Latest</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/docs/javadocs/>Javadocs</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/LanguageManual>Language Manual</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=/general id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
General
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://www.apache.org/licenses/LICENSE-2.0.html>License</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/general/privacypolicy/>Privacy Policy</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Development
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://hive.apache.org/development/gettingstarted/>Getting Started</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/quickstart/>Quickstart with Docker</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/DesignDocs>Design Docs</a></li>
<li><a class=dropdown-item href=https://issues.apache.org/jira/projects/HIVE/issues>Hive JIRA</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ>Hive Developer FAQ</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/Hive+PreCommit+Patch+Testing>Precommit Patch Testing</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/versioncontrol/>Version Control</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Community
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=/community/becomingcommitter/>Becoming A Committer</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HowToContribute>How To Contribute</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/Home#Home-ResourcesforContributors>Resources for Contributors</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/mailinglists/>Mailing Lists</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/issuetracking/>Issue Tracking</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/people/>People</a></li>
<li>
<hr class=dropdown-divider>
</li>
<li><a class=dropdown-item href=/community/bylaws/>By Laws</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HowToRelease>How To Release</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class=nav-link href=https://hive.blog.apache.org/ id=navbarDropdown role=button aria-expanded=false>
Blogs
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
ASF
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://www.apache.org/foundation/contributing.html>Donations</a></li>
<li><a class=dropdown-item href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li>
<li><a class=dropdown-item href=https://www.apache.org/foundation/thanks.html>Thanks</a></li>
<li><a class=dropdown-item href=https://www.apache.org/>Website</a></li>
</ul>
</li>
<li>
<form action=/search method=get class=search-bar>
<input type=search name=q id=search-query placeholder=Search... class=search-input>
<button type=submit class=search-button>Search</button>
</form>
</li>
</ul>
</div>
</div>
</nav>
</menu>
</header>
<div class=content>
<div class=docs>
<h1 id=apache-hive--webhcat-usingwebhcat>Apache Hive : WebHCat UsingWebHCat</h1>
<h1 id=using-the-hcatalog-rest-api-webhcat>Using the HCatalog REST API (WebHCat)</h1>
<ul>
<li><a href=#using-the-hcatalog-rest-api-webhcat>Using the HCatalog REST API (WebHCat)</a>
<ul>
<li><a href=#introduction-to-webhcat>Introduction to WebHCat</a></li>
<li><a href=#url-format>URL Format</a></li>
<li><a href=#security>Security</a>
<ul>
<li><a href=#standard-parameters>Standard Parameters</a>
<ul>
<li><a href=#specifying-username>Specifying user.name</a></li>
</ul>
</li>
<li><a href=#security-error-response>Security Error Response</a></li>
</ul>
</li>
<li><a href=#webhdfs-and-code-push>WebHDFS and Code Push</a></li>
<li><a href=#error-codes-and-responses>Error Codes and Responses</a></li>
<li><a href=#log-files>Log Files</a></li>
<li><a href=#project-name>Project Name</a></li>
</ul>
</li>
</ul>
<p>Version information</p>
<p>The HCatalog project graduated from the Apache incubator and merged with the Hive project on March 26, 2013.<br>
Hive version 0.11.0 is the first release that includes HCatalog and its REST API, WebHCat.</p>
<h2 id=introduction-to-webhcat>Introduction to WebHCat</h2>
<p>This document describes the HCatalog REST API, <em>WebHCat</em>, which was previously called <em>Templeton</em>.</p>
<p>As shown in the figure below, developers make HTTP requests to access <a href=http://hadoop.apache.org/>Hadoop</a> <a href=http://hadoop.apache.org/docs/stable/mapred_tutorial.html>MapReduce</a> (or <a href=http://hadoop.apache.org/docs/current/hadoop-yarn/hadoop-yarn-site/YARN.html>YARN</a>), <a href=http://pig.apache.org/>Pig</a>, <a href=http://hive.apache.org/>Hive</a>, and <a href=#hcatalog-ddl>HCatalog DDL</a> from within applications. Data and code used by this API are maintained in <a href=http://hadoop.apache.org/docs/stable/hdfs_user_guide.html>HDFS</a>. HCatalog DDL commands are executed directly when requested. MapReduce, Pig, and Hive jobs are placed in queue by WebHCat (Templeton) servers and can be monitored for progress or stopped as required. Developers specify a location in HDFS into which Pig, Hive, and MapReduce results should be placed.</p>
<p><img src=/attachments/34015492/34177184.jpg alt></p>
<p>WebHCat or Templeton?</p>
<p>For backward compatibility, the original name Templeton is still used for WebHCat in some contexts. See <a href=##project-name>#Project Name</a> below.</p>
<h2 id=url-format>URL Format</h2>
<p>HCatalog&rsquo;s REST resources are accessed using the following URL format:</p>
<p><code>http://</code><em>yourserver</em><code>/templeton/v1/</code><em>resource</em></p>
<p>where &ldquo;<em>yourserver</em>&rdquo; is replaced with your server name, and &ldquo;<em>resource</em>&rdquo; is replaced with the HCatalog resource name.</p>
<p>For example, to check if the server is running you could access the following URL:</p>
<p><code>ht``tp://www.myserver.com/templeton/v1/status</code></p>
<p>See <a href=https://hive.apache.org/docs/latest/webhcat-reference_34015762/>Reference: WebHCat Resources</a> for information about the individual REST resources.</p>
<h2 id=security>Security</h2>
<p>The current version supports two types of security:</p>
<ul>
<li>Default security (without additional authentication)</li>
<li>Authentication via <a href=http://web.mit.edu/kerberos/>Kerberos</a></li>
</ul>
<h3 id=standard-parameters>Standard Parameters</h3>
<p>Every REST resource can accept the following parameters to aid in authentication:</p>
<ul>
<li>user.name: The user name as a string. Only valid when using default security.</li>
<li>SPNEGO credentials: When running with Kerberos authentication.</li>
</ul>
<h4 id=specifying-username>Specifying user.name</h4>
<p>The user.name parameter is part of POST parameters for POST calls, and part of the URL for other calls.</p>
<p>For example, to specify user.name in a GET :table command:</p>
<pre tabindex=0><code>% curl -s 'http://localhost:50111/templeton/v1/ddl/database/default/table/my_table?user.name=ctdean'

</code></pre><p>And to specify user.name in a POST :table command:</p>
<pre tabindex=0><code>% curl -s -d user.name=ctdean \
       -d rename=test_table_2 \
       'http://localhost:50111/templeton/v1/ddl/database/default/table/test_table'

</code></pre><h3 id=security-error-response>Security Error Response</h3>
<p>If the user.name parameter is not supplied when required, the following error will be returned:</p>
<pre tabindex=0><code>{
  &quot;error&quot;: &quot;No user found.  Missing user.name parameter.&quot;
}

</code></pre><h2 id=webhdfs-and-code-push>WebHDFS and Code Push</h2>
<p>Data and code that are used by HCatalog&rsquo;s REST resources must first be placed in Hadoop. When placing files into HDFS is required you can use whatever method is most convienient for you. We suggest WebHDFS since it provides a REST interface for moving files into and out of HDFS.</p>
<h2 id=error-codes-and-responses>Error Codes and Responses</h2>
<p>The server returns the following HTTP status codes.</p>
<ul>
<li><strong>200 OK:</strong> Success!</li>
<li><strong>400 Bad Request:</strong> The request was invalid.</li>
<li><strong>401 Unauthorized:</strong> Credentials were missing or incorrect.</li>
<li><strong>404 Not Found:</strong> The URI requested is invalid or the resource requested does not exist.</li>
<li><strong>500 Internal Server Error:</strong> We received an unexpected result.</li>
<li><strong>503 Busy, please retry:</strong> The server is busy.</li>
</ul>
<p>Other data returned directly by the server is returned in JSON format. JSON responses are limited to 1MB in size. Responses over this limit must be stored into HDFS using provided options instead of being directly returned. If an HCatalog DDL command might return results greater than 1MB, it&rsquo;s suggested that a corresponding Hive request be executed instead.</p>
<h2 id=log-files>Log Files</h2>
<p>The server creates three log files when in operation:</p>
<ul>
<li><strong>templeton.log</strong> is the log4j log. This the main log the application writes to.</li>
<li><strong>templeton-console.log</strong> is what Java writes to stdout when the server is started. It is a small amount of data, similar to &ldquo;hcat.out&rdquo;.</li>
<li><strong>tempelton-console-error.log</strong> is what Java writes to stderr, similar to &ldquo;hcat.err&rdquo;.</li>
</ul>
<p>In the tempelton-log4j.properties file you can set the location of these logs using the variable templeton.log.dir. This log4j.properties file is set in the server startup script.</p>
<p>Hive log files are described in the <a href=#hive-logging>Hive Logging</a> section of <a href=https://hive.apache.org/docs/latest/gettingstarted_27362090/>Getting Started</a>.</p>
<h2 id=project-name>Project Name</h2>
<p>The original work to add REST APIs to HCatalog was called Templeton. For backward compatibility the name still appears in URLs, log file names, etc. The Templeton name is taken from a character in the award-winning children&rsquo;s novel Charlotte&rsquo;s Web, by E. B. White. The novel&rsquo;s protagonist is a pig named Wilbur. Templeton is a rat who helps Wilbur by running errands and making deliveries as requested by Charlotte while spinning her web.</p>
<p> </p>
<p><strong>Navigation Links</strong>
Next: <a href=https://hive.apache.org/docs/latest/webhcat-installwebhcat_34015585/>WebHCat Installation</a></p>
<p>General: <a href=https://hive.apache.org/docs/latest/webhcat_33299069/>WebHCat Manual</a> – <a href=https://hive.apache.org/docs/latest/hcatalog_33299065/>HCatalog Manual</a> – <a href=https://hive.apache.org/docs/latest/home_27362069/>Hive Wiki Home</a> – <a href=http://hive.apache.org/>Hive Project Site</a></p>
<h2 id=attachments>Attachments:</h2>
<p><img src=images/icons/bullet_blue.gif alt></p>
</div>
</div>
<footer class="black-background static-bottom" style=padding:30px>
<div class=row>
<div class=col-3>
<a href=https://www.apache.org/>
<img src=https://hive.apache.org/images/asf_logo.png width=270 height=100 alt="Apache Software Foundation"></a>
</a>
</div>
<div class=col-9>
<p class=footer-text>Apache is a non-profit organization helping open-source
software projects released under the Apache
<a href=https://www.apache.org/licenses/>license</a>
and managed with
<a href=https://www.apache.org/foundation/how-it-works.html>
open governance</a> and
<a href=https://privacy.apache.org/policies/privacy-policy-public.html>
privacy policy</a>. See upcoming
<a href=https://www.apache.org/events/current-event>Apache Events</a>.
If you discover any
<a href=https://www.apache.org/security/>security</a> vulnerabilities, please
report them privately. Finally,
<a href=https://www.apache.org/foundation/sponsorship.html>thanks
</a> to the sponsors who
<a href=https://www.apache.org/foundation/contributing.html>
donate</a> to the Apache Foundation.
</p>
</div>
</div>
<div class="copyright row">
<a href=https://hive.apache.org style=color:grey>
The contents of this website are © 2023 Apache Software Foundation under the terms of the Apache License v2. Apache Hive and its logo are trademarks of the Apache Software Foundation.
</a>
</div>
</footer>
<script src=https://hive.apache.org/js/bootstrap.bundle.min.js></script>
</body>
</html>