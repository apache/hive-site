<!doctype html><html><!doctype html>
<html>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content>
<meta name=author content>
<title>Apache Hive : HiveJDBCInterface</title>
<link rel=icon href=/images/hive.svg sizes=any type=image/svg+xml>
<link rel=stylesheet href=https://hive.apache.org/css/hive-theme.css>
<link rel=stylesheet href=https://hive.apache.org/css/font-awesome.all.min.css>
<link rel=stylesheet href=https://hive.apache.org/css/bootstrap.min.css>
<link rel=stylesheet href=https://hive.apache.org/css/termynal.css>
<link rel=apple-touch-icon sizes=180x180 href=https://hive.apache.org/images/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=https://hive.apache.org/images/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=https://hive.apache.org/images/favicon-16x16.png>
<link rel=manifest href=https://hive.apache.org/images/site.webmanifest>
<link rel=mask-icon href=https://hive.apache.org/images/safari-pinned-tab.svg color=#5bbad5>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
<script>var _paq=window._paq=window._paq||[];_paq.push(['disableCookies']),_paq.push(['trackPageView']),_paq.push(['enableLinkTracking']),function(){var b="https://analytics.apache.org/",c,a,d;_paq.push(['setTrackerUrl',b+'matomo.php']),_paq.push(['setSiteId','30']),c=document,a=c.createElement('script'),d=c.getElementsByTagName('script')[0],a.async=!0,a.src=b+'matomo.js',d.parentNode.insertBefore(a,d)}()</script>
</head>
<body>
<body>
<header>
<menu style=background:#000;margin:0>
<nav class="navbar navbar-expand-lg navbar-dark bg-black">
<div class=container-fluid>
<a href=https://hive.apache.org> <img src=https://hive.apache.org/images/hive.svg width=60 height=35 alt="Apache Software Foundation"></a>
<a class="header-text navbar-brand" href=https://hive.apache.org>Apache Hive</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse" id=navbarSupportedContent>
<ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item dropdown">
<a class=nav-link href=/general/downloads id=navbarDropdown role=button aria-expanded=false>
Releases
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=/Document id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Documentation
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=/docs/latest/>Latest</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/docs/javadocs/>Javadocs</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/LanguageManual>Language Manual</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=/general id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
General
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://www.apache.org/licenses/LICENSE-2.0.html>License</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/general/privacypolicy/>Privacy Policy</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Development
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://hive.apache.org/development/gettingstarted/>Getting Started</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/quickstart/>Quickstart with Docker</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/DesignDocs>Design Docs</a></li>
<li><a class=dropdown-item href=https://issues.apache.org/jira/projects/HIVE/issues>Hive JIRA</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ>Hive Developer FAQ</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/Hive+PreCommit+Patch+Testing>Precommit Patch Testing</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/versioncontrol/>Version Control</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Community
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=/community/becomingcommitter/>Becoming A Committer</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HowToContribute>How To Contribute</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/Home#Home-ResourcesforContributors>Resources for Contributors</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/mailinglists/>Mailing Lists</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/issuetracking/>Issue Tracking</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/people/>People</a></li>
<li>
<hr class=dropdown-divider>
</li>
<li><a class=dropdown-item href=/community/bylaws/>By Laws</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HowToRelease>How To Release</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class=nav-link href=https://hive.blog.apache.org/ id=navbarDropdown role=button aria-expanded=false>
Blogs
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
ASF
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://www.apache.org/foundation/contributing.html>Donations</a></li>
<li><a class=dropdown-item href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li>
<li><a class=dropdown-item href=https://www.apache.org/foundation/thanks.html>Thanks</a></li>
<li><a class=dropdown-item href=https://www.apache.org/>Website</a></li>
</ul>
</li>
<li>
<form action=/search method=get class=search-bar>
<input type=search name=q id=search-query placeholder=Search... class=search-input>
<button type=submit class=search-button>Search</button>
</form>
</li>
</ul>
</div>
</div>
</nav>
</menu>
</header>
<div class=content>
<div class=docs>
<h1 id=apache-hive--hivejdbcinterface>Apache Hive : HiveJDBCInterface</h1>
<h1 id=hive-jdbc-driver>Hive JDBC Driver</h1>
<ul>
<li><a href=#hive-jdbc-driver>Hive JDBC Driver</a>
<ul>
<li><a href=#integration-with-pentaho>Integration with Pentaho</a></li>
<li><a href=#integration-with-squirrel-sql-client>Integration with SQuirrel SQL Client</a></li>
</ul>
</li>
</ul>
<p>The current JDBC interface for Hive only supports running queries and fetching results. Only a small subset of the metadata calls are supported.</p>
<p>To see how the JDBC interface can be used, see <a href=https://hive.apache.org/docs/latest/hiveclient_27362101/>sample code</a>.</p>
<h3 id=integration-with-pentaho>Integration with Pentaho</h3>
<ol>
<li>Download pentaho report designer from the <a href="http://sourceforge.net/project/showfiles.php?group_id=140317&package_id=192362">pentaho website</a>.</li>
<li>Overwrite report-designer.sh with the code provided below.</li>
</ol>
<pre tabindex=0><code>#!/bin/sh

HADOOP_CORE={{ls $HADOOP_HOME/hadoop-*-core.jar}}
CLASSPATH=.:$HADOOP_CORE:$HIVE_HOME/conf

for i in ${HIVE_HOME}/lib/*.jar ; do
  CLASSPATH=$CLASSPATH:$i
done

CLASSPATH=$CLASSPATH:launcher.jar

echo java -XX:MaxPermSize=512m -cp $CLASSPATH -jar launcher.jar
java -XX:MaxPermSize=512m -cp $CLASSPATH org.pentaho.commons.launcher.Launcher

</code></pre><ol start=3>
<li>Build and start the hive server with instructions from <a href=https://hive.apache.org/docs/latest/hiveserver_27362111/>HiveServer</a>.</li>
<li>Compile and run the Hive JDBC client code to load some data (I haven&rsquo;t figured out how to do this in report designer yet). See <a href=https://hive.apache.org/docs/latest/hiveclient_27362101/>sample code</a> for loading the data.</li>
<li>Run the report designer (note step 2).</li>
</ol>
<pre tabindex=0><code>$ sh reporter-designer.sh

</code></pre><ol start=6>
<li>Select &lsquo;Report Design Wizard&rsquo;.</li>
<li>Select a template - say &lsquo;fall template&rsquo; - next.</li>
<li>Create a new data source - JDBC (custom), Generic database.</li>
<li>Provide Hive JDBC parameters. Give the connection a name &lsquo;hive&rsquo;.</li>
</ol>
<pre tabindex=0><code>   URL: jdbc:hive://localhost:10000/default
   Driver name: org.apache.hadoop.hive.jdbc.HiveDriver
   Username and password are empty

</code></pre><ol start=10>
<li>Click on &lsquo;Test&rsquo;. The test should succeed.</li>
<li>Edit the query: select &lsquo;Sample Query&rsquo;, click edit query, click on the connection &lsquo;hive&rsquo;. Create a new query. Write a query on the table testHiveDriverTable, for example, select * from testHiveDriverTable. Click next.</li>
<li>Layout Step: Add <code>PageOfPages</code> to Group Items By. Add key and value as Selected Items. Click next. And Finish.</li>
<li>Change the Report header to &lsquo;hive-pentaho-report&rsquo;. Change the type of the header to &lsquo;html&rsquo;.</li>
<li>Run the report and generate pdf. You should get something like the report attached here.</li>
</ol>
<h3 id=integration-with-squirrel-sql-client>Integration with SQuirrel SQL Client</h3>
<ol>
<li>
<p>Download, install and start the SQuirrel SQL Client from the <a href=http://squirrel-sql.sourceforge.net/>SQuirrel SQL website</a>.</p>
</li>
<li>
<p>Select &lsquo;Drivers -> New Driver&mldr;&rsquo; to register the Hive JDBC driver.</p>
<ol>
<li>Enter the driver name and example URL:</li>
</ol>
<pre tabindex=0><code>   Name: Hive
   Example URL: jdbc:hive://localhost:10000/default

</code></pre><p>``</p>
</li>
<li>
<p>Select &lsquo;Extra Class Path -> Add&rsquo; to add the following jars from your local Hive and Hadoop distribution.</p>
</li>
</ol>
<pre tabindex=0><code>   HIVE_HOME/build/dist/lib/*.jar
   HADOOP_HOME/hadoop-*-core.jar
</code></pre><ol start=4>
<li>Select &lsquo;List Drivers&rsquo;. This will cause SQuirrel to parse your jars for JDBC drivers and might take a few seconds. From the &lsquo;Class Name&rsquo; input box select the Hive driver:</li>
</ol>
<pre tabindex=0><code>   org.apache.hadoop.hive.jdbc.HiveDriver
</code></pre><ol start=5>
<li>Click &lsquo;OK&rsquo; to complete the driver registration.</li>
<li>Select &lsquo;Aliases -> Add Alias&mldr;&rsquo; to create a connection alias to your Hive server.
<ol>
<li>Give the connection alias a name in the &lsquo;Name&rsquo; input box.</li>
<li>Select the Hive driver from the &lsquo;Driver&rsquo; drop-down.</li>
<li>Modify the example URL as needed to point to your Hive server.</li>
<li>Leave &lsquo;User Name&rsquo; and &lsquo;Password&rsquo; blank and click &lsquo;OK&rsquo; to save the connection alias.</li>
</ol>
</li>
<li>To connect to the Hive server, double-click the Hive alias and click &lsquo;Connect&rsquo;.</li>
</ol>
<p>When the connection is established you will see errors in the log console and might get a warning that the driver is not JDBC 3.0 compatible. These alerts are due to yet-to-be-implemented parts of the JDBC metadata API and can safely be ignored. To test the connection enter <em>SHOW TABLES</em> in the console and click the run icon.</p>
<p>Also note that when a query is running, support for the &lsquo;Cancel&rsquo; button is not yet available.</p>
</div>
</div>
<footer class="black-background static-bottom" style=padding:30px>
<div class=row>
<div class=col-3>
<a href=https://www.apache.org/>
<img src=https://hive.apache.org/images/asf_logo.png width=270 height=100 alt="Apache Software Foundation"></a>
</a>
</div>
<div class=col-9>
<p class=footer-text>Apache is a non-profit organization helping open-source
software projects released under the Apache
<a href=https://www.apache.org/licenses/>license</a>
and managed with
<a href=https://www.apache.org/foundation/how-it-works.html>
open governance</a> and
<a href=https://privacy.apache.org/policies/privacy-policy-public.html>
privacy policy</a>. See upcoming
<a href=https://www.apache.org/events/current-event>Apache Events</a>.
If you discover any
<a href=https://www.apache.org/security/>security</a> vulnerabilities, please
report them privately. Finally,
<a href=https://www.apache.org/foundation/sponsorship.html>thanks
</a> to the sponsors who
<a href=https://www.apache.org/foundation/contributing.html>
donate</a> to the Apache Foundation.
</p>
</div>
</div>
<div class="copyright row">
<a href=https://hive.apache.org style=color:grey>
The contents of this website are Â© 2023 Apache Software Foundation under the terms of the Apache License v2. Apache Hive and its logo are trademarks of the Apache Software Foundation.
</a>
</div>
</footer>
<script src=https://hive.apache.org/js/bootstrap.bundle.min.js></script>
</body>
</html>