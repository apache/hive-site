<!doctype html><html><!doctype html>
<html>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content>
<meta name=author content>
<title>Apache Hive : Parquet</title>
<link rel=icon href=/images/hive.svg sizes=any type=image/svg+xml>
<link rel=stylesheet href=https://hive.apache.org/css/hive-theme.css>
<link rel=stylesheet href=https://hive.apache.org/css/font-awesome.all.min.css>
<link rel=stylesheet href=https://hive.apache.org/css/bootstrap.min.css>
<link rel=stylesheet href=https://hive.apache.org/css/termynal.css>
<link rel=apple-touch-icon sizes=180x180 href=https://hive.apache.org/images/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=https://hive.apache.org/images/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=https://hive.apache.org/images/favicon-16x16.png>
<link rel=manifest href=https://hive.apache.org/images/site.webmanifest>
<link rel=mask-icon href=https://hive.apache.org/images/safari-pinned-tab.svg color=#5bbad5>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
<script>var _paq=window._paq=window._paq||[];_paq.push(['disableCookies']),_paq.push(['trackPageView']),_paq.push(['enableLinkTracking']),function(){var b="https://analytics.apache.org/",c,a,d;_paq.push(['setTrackerUrl',b+'matomo.php']),_paq.push(['setSiteId','30']),c=document,a=c.createElement('script'),d=c.getElementsByTagName('script')[0],a.async=!0,a.src=b+'matomo.js',d.parentNode.insertBefore(a,d)}()</script>
</head>
<body>
<body>
<header>
<menu style=background:#000;margin:0>
<nav class="navbar navbar-expand-lg navbar-dark bg-black">
<div class=container-fluid>
<a href=https://hive.apache.org> <img src=https://hive.apache.org/images/hive.svg width=60 height=35 alt="Apache Software Foundation"></a>
<a class="header-text navbar-brand" href=https://hive.apache.org>Apache Hive</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse" id=navbarSupportedContent>
<ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item dropdown">
<a class=nav-link href=/general/downloads id=navbarDropdown role=button aria-expanded=false>
Releases
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=/Document id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Documentation
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=/docs/latest/>Latest</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/docs/javadocs/>Javadocs</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/LanguageManual>Language Manual</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=/general id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
General
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://www.apache.org/licenses/LICENSE-2.0.html>License</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/general/privacypolicy/>Privacy Policy</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Development
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://hive.apache.org/development/gettingstarted/>Getting Started</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/quickstart/>Quickstart with Docker</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/DesignDocs>Design Docs</a></li>
<li><a class=dropdown-item href=https://issues.apache.org/jira/projects/HIVE/issues>Hive JIRA</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ>Hive Developer FAQ</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/Hive+PreCommit+Patch+Testing>Precommit Patch Testing</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/development/versioncontrol/>Version Control</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
Community
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=/community/becomingcommitter/>Becoming A Committer</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HowToContribute>How To Contribute</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/Home#Home-ResourcesforContributors>Resources for Contributors</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/mailinglists/>Mailing Lists</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/issuetracking/>Issue Tracking</a></li>
<li><a class=dropdown-item href=https://hive.apache.org/community/people/>People</a></li>
<li>
<hr class=dropdown-divider>
</li>
<li><a class=dropdown-item href=/community/bylaws/>By Laws</a></li>
<li><a class=dropdown-item href=https://cwiki.apache.org/confluence/display/Hive/HowToRelease>How To Release</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class=nav-link href=https://hive.blog.apache.org/ id=navbarDropdown role=button aria-expanded=false>
Blogs
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>
ASF
</a>
<ul class=dropdown-menu aria-labelledby=navbarDropdown>
<li><a class=dropdown-item href=https://www.apache.org/foundation/contributing.html>Donations</a></li>
<li><a class=dropdown-item href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li>
<li><a class=dropdown-item href=https://www.apache.org/foundation/thanks.html>Thanks</a></li>
<li><a class=dropdown-item href=https://www.apache.org/>Website</a></li>
</ul>
</li>
<li>
<form action=/search method=get class=search-bar>
<input type=search name=q id=search-query placeholder=Search... class=search-input>
<button type=submit class=search-button>Search</button>
</form>
</li>
</ul>
</div>
</div>
</nav>
</menu>
</header>
<div class=content>
<div class=docs>
<h1 id=apache-hive--parquet>Apache Hive : Parquet</h1>
<p>Version</p>
<p>Parquet is supported by a plugin in Hive 0.10, 0.11, and 0.12 and natively in Hive 0.13 and later.</p>
<p> </p>
<ul>
<li><a href=#introduction>Introduction</a></li>
<li><a href=#native-parquet-support>Native Parquet Support</a>
<ul>
<li><a href=#hive-010-011-and-012>Hive 0.10, 0.11, and 0.12</a></li>
<li><a href=#hive-013>Hive 0.13</a></li>
</ul>
</li>
<li><a href=#hiveql-syntax>HiveQL Syntax</a>
<ul>
<li><a href=#hive-010---012>Hive 0.10 - 0.12</a></li>
<li><a href=#hive-013-and-later>Hive 0.13 and later</a></li>
</ul>
</li>
<li><a href=#versions-and-limitations>Versions and Limitations</a>
<ul>
<li><a href=#hive-0130>Hive 0.13.0</a></li>
<li><a href=#hive-0140>Hive 0.14.0</a></li>
<li><a href=#hive-110>Hive 1.1.0</a></li>
<li><a href=#hive-120>Hive 1.2.0</a></li>
<li><a href=#resources>Resources</a></li>
</ul>
</li>
</ul>
<h2 id=introduction><strong>Introduction</strong></h2>
<p>Parquet (<a href=http://parquet.io/>http://parquet.io/</a>) is an ecosystem wide columnar format for Hadoop. Read <a href=https://blog.twitter.com/2013/dremel-made-simple-with-parquet>Dremel made simple with Parquet</a> for a good introduction to the format while the Parquet project has an <a href=https://github.com/Parquet/parquet-format>in-depth description of the format</a> including motivations and diagrams. At the time of this writing Parquet supports the follow engines and data description languages:</p>
<p><strong>Engines</strong></p>
<ul>
<li>Apache Hive</li>
<li>Apache Drill</li>
<li>Cloudera Impala</li>
<li>Apache Crunch</li>
<li>Apache Pig</li>
<li>Cascading</li>
<li>Apache Spark</li>
</ul>
<p><strong>Data description</strong></p>
<ul>
<li>Apache Avro</li>
<li>Apache Thrift</li>
<li>Google Protocol Buffers</li>
</ul>
<p>The latest information on Parquet engine and data description support, please visit the <a href=https://github.com/Parquet/parquet-mr>Parquet-MR projects feature matrix</a>.</p>
<p>Parquet Motivation</p>
<p>We created Parquet to make the advantages of compressed, efficient columnar data representation available to any project in the Hadoop ecosystem.</p>
<p>Parquet is built from the ground up with complex nested data structures in mind, and uses the record shredding and assembly algorithm described in the Dremel paper. We believe this approach is superior to simple flattening of nested name spaces.</p>
<p>Parquet is built to support very efficient compression and encoding schemes. Multiple projects have demonstrated the performance impact of applying the right compression and encoding scheme to the data. Parquet allows compression schemes to be specified on a per-column level, and is future-proofed to allow adding more encodings as they are invented and implemented.</p>
<p>Parquet is built to be used by anyone. The Hadoop ecosystem is rich with data processing frameworks, and we are not interested in playing favorites. We believe that an efficient, well-implemented columnar storage substrate should be useful to all frameworks without the cost of extensive and difficult to set up dependencies.</p>
<h2 id=native-parquet-support><strong>Native Parquet Support</strong></h2>
<h3 id=hive-010-011-and-012>Hive 0.10, 0.11, and 0.12</h3>
<p>To use Parquet with Hive 0.10-0.12 you must <a href=http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22parquet-hive-bundle%22>download</a> the Parquet Hive package from the Parquet project. You want the <a href=http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22parquet-hive-bundle%22>parquet-hive-bundle jar</a> in Maven Central.</p>
<h3 id=hive-013>Hive 0.13</h3>
<p>Native Parquet support was added (<a href=https://issues.apache.org/jira/browse/HIVE-5783>HIVE-5783)</a>. Please note that not all Parquet data types are supported in this version (see <a href=#versions-and-limitations>Versions and Limitations</a> below).</p>
<h2 id=hiveql-syntax><strong>HiveQL Syntax</strong></h2>
<p>A <a href=#create-table>CREATE TABLE</a> statement can specify the Parquet storage format with syntax that depends on the Hive version.</p>
<h3 id=hive-010---012>Hive 0.10 - 0.12</h3>
<pre tabindex=0><code>CREATE TABLE parquet_test (
 id int,
 str string,
 mp MAP&lt;STRING,STRING&gt;,
 lst ARRAY&lt;STRING&gt;,
 strct STRUCT&lt;A:STRING,B:STRING&gt;) 
PARTITIONED BY (part string)
ROW FORMAT SERDE 'parquet.hive.serde.ParquetHiveSerDe'
 STORED AS
 INPUTFORMAT 'parquet.hive.DeprecatedParquetInputFormat'
 OUTPUTFORMAT 'parquet.hive.DeprecatedParquetOutputFormat';
</code></pre><h3 id=hive-013-and-later>Hive 0.13 and later</h3>
<pre tabindex=0><code>CREATE TABLE parquet_test (
 id int,
 str string,
 mp MAP&lt;STRING,STRING&gt;,
 lst ARRAY&lt;STRING&gt;,
 strct STRUCT&lt;A:STRING,B:STRING&gt;) 
PARTITIONED BY (part string)
STORED AS PARQUET;
</code></pre><h2 id=versions-and-limitations><strong>Versions and Limitations</strong></h2>
<h3 id=hive-0130>Hive 0.13.0</h3>
<p>Support was added for Create Table AS SELECT (CTAS &ndash; <a href=https://issues.apache.org/jira/browse/HIVE-6375>HIVE-6375</a>).</p>
<h3 id=hive-0140>Hive 0.14.0</h3>
<p>Support was added for timestamp (<a href=https://issues.apache.org/jira/browse/HIVE-6394>HIVE-6394</a>), decimal (<a href=https://issues.apache.org/jira/browse/HIVE-6367>HIVE-6367</a>), and char and varchar (<a href=https://issues.apache.org/jira/browse/HIVE-7735>HIVE-7735</a>) data types. Support was also added for column rename with use of the flag <code>parquet.column.index.access</code> (<a href=https://issues.apache.org/jira/browse/HIVE-6938>HIVE-6938</a>). Parquet column names were previously case sensitive (query had to use column case that matches exactly what was in the metastore), but became case insensitive (<a href=https://issues.apache.org/jira/browse/HIVE-7554>HIVE-7554</a>).</p>
<h3 id=hive-110>Hive 1.1.0</h3>
<p>Support was added for binary data types (<a href=https://issues.apache.org/jira/browse/HIVE-7073>HIVE-7073</a>).</p>
<h3 id=hive-120>Hive 1.2.0</h3>
<p>Support for remaining Parquet data types was added (<a href=https://issues.apache.org/jira/browse/HIVE-6384>HIVE-6384</a>).</p>
<h3 id=resources><strong>Resources</strong></h3>
<ul>
<li><a href=http://parquet.io>Parquet Website</a></li>
<li><a href=https://github.com/Parquet/parquet-format>Format specification</a></li>
<li><a href=https://github.com/Parquet/parquet-mr>Feature Matrix</a></li>
<li><a href=https://github.com/Parquet/parquet-mr/wiki/The-striping-and-assembly-algorithms-from-the-Dremel-paper>The striping and assembly algorithms from the Dremel paper</a></li>
<li><a href=http://research.google.com/pubs/pub36632.html>Dremel paper</a></li>
<li><a href=https://blog.twitter.com/2013/dremel-made-simple-with-parquet>Dremel made simple with Parquet</a></li>
</ul>
</div>
</div>
<footer class="black-background static-bottom" style=padding:30px>
<div class=row>
<div class=col-3>
<a href=https://www.apache.org/>
<img src=https://hive.apache.org/images/asf_logo.png width=270 height=100 alt="Apache Software Foundation"></a>
</a>
</div>
<div class=col-9>
<p class=footer-text>Apache is a non-profit organization helping open-source
software projects released under the Apache
<a href=https://www.apache.org/licenses/>license</a>
and managed with
<a href=https://www.apache.org/foundation/how-it-works.html>
open governance</a> and
<a href=https://privacy.apache.org/policies/privacy-policy-public.html>
privacy policy</a>. See upcoming
<a href=https://www.apache.org/events/current-event>Apache Events</a>.
If you discover any
<a href=https://www.apache.org/security/>security</a> vulnerabilities, please
report them privately. Finally,
<a href=https://www.apache.org/foundation/sponsorship.html>thanks
</a> to the sponsors who
<a href=https://www.apache.org/foundation/contributing.html>
donate</a> to the Apache Foundation.
</p>
</div>
</div>
<div class="copyright row">
<a href=https://hive.apache.org style=color:grey>
The contents of this website are © 2023 Apache Software Foundation under the terms of the Apache License v2. Apache Hive and its logo are trademarks of the Apache Software Foundation.
</a>
</div>
</footer>
<script src=https://hive.apache.org/js/bootstrap.bundle.min.js></script>
</body>
</html>